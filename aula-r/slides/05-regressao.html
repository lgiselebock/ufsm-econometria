<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Análises Econométricas</title>
    <meta charset="utf-8" />
    <meta name="author" content="Luísa Gisele Böck" />
    <script src="05-regressao_files/header-attrs/header-attrs.js"></script>
    <script src="05-regressao_files/clipboard/clipboard.min.js"></script>
    <link href="05-regressao_files/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="05-regressao_files/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <script src="05-regressao_files/xaringanExtra_fit-screen/fit-screen.js"></script>
    <link href="05-regressao_files/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <link href="05-regressao_files/panelset/panelset.css" rel="stylesheet" />
    <script src="05-regressao_files/panelset/panelset.js"></script>
    <link href="05-regressao_files/shareon/shareon.min.css" rel="stylesheet" />
    <script src="05-regressao_files/shareon/shareon.min.js"></script>
    <link href="05-regressao_files/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="05-regressao_files/xaringanExtra-shareagain/shareagain.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="custom.css" type="text/css" />
    <link rel="stylesheet" href="footer-header.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">










&lt;!-- inicio font awesome --&gt;
&lt;script src="https://kit.fontawesome.com/1f72d6921a.js" crossorigin="anonymous"&gt;&lt;/script&gt;
&lt;!-- final font awesome --&gt;

&lt;!-- inicio github buttons  --&gt;
&lt;script async defer src="https://buttons.github.io/buttons.js"&gt;&lt;/script&gt;
&lt;!-- final github buttons  --&gt;


.pull-left[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
## Análises Econométricas

### Regressões Lineares

**[Luísa Gisele Böck](https://luisa.rbind.io/)**&amp;nbsp;&amp;nbsp;    &lt;a href='mailto:luisa.bock@acad.ufsm.br'&gt;&lt;i class="far fa-envelope"&gt;&lt;/i&gt;&lt;/a&gt;    &lt;a href='https://twitter.com/lgiselebock'&gt;&lt;i class="fab fa-twitter"&gt;&lt;/i&gt;   &lt;a href='https://github.com/lgiselebock'&gt;&lt;i class="fab fa-github"&gt;&lt;/i&gt;&lt;/a&gt;

__.can-edit[Junho de 2023]__

]

.pull-right[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;img src="img/slides/46-intro-allison-horst-regressao-05.png" width="700px" /&gt;

.center[Ilustração por [Allison Horst](https://twitter.com/allison_horst/)]
]

---

class: inverse center middle

# Regressão Linear

.center[(Acompanhe no arquivo `05-regressao.R`)]

---

class: inverse center middle

# Dados Educacionais

&lt;!-- .center[(Acompanhe no arquivo `04-visualizacao.R`)] --&gt;

---

### Importando as bases

.tiny[

```r
library(tidyverse) # pacote necessário

ideb_fund &lt;- read_csv("dados/educacionais/ideb_fundamental.csv", 
  col_types = cols(
    id_municipio = col_character(), ano = col_integer())
)
ideb_medio &lt;- read_csv("dados/educacionais/ideb_medio.csv", 
  col_types = cols(
    id_municipio = col_character(), ano = col_integer())
)
indic_fund &lt;- 
  read_csv("dados/educacionais/indicadores_fundamental.csv",
  col_types = cols(
    id_municipio = col_character(), ano = col_integer())
)
indic_medio &lt;- read_csv("dados/educacionais/indicadores_medio.csv",
  col_types = cols(
    id_municipio = col_character(), ano = col_integer())
)
pib_pop &lt;- read_csv("dados/educacionais/pib_pc.csv",
  col_types = cols(
    id_municipio = col_character(), ano = col_integer())
)
```
]

---

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Ideb&lt;/div&gt;

.tiny[

```r
head(ideb_fund, n = 5)
```

```
## # A tibble: 5 × 5
##   id_municipio   ano tx_aprov ensino       ideb
##   &lt;chr&gt;        &lt;int&gt;    &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;
## 1 1100015       2021     94.3 fundamental  4.75
## 2 1100023       2021     94.2 fundamental  4.98
## 3 1100049       2021     99.5 fundamental  5.32
## 4 1100064       2021     99.3 fundamental  5.65
## 5 1100072       2021     98.6 fundamental  5.32
```

```r
head(ideb_medio, n = 5)
```

```
## # A tibble: 5 × 5
##   id_municipio   ano tx_aprov ensino  ideb
##   &lt;chr&gt;        &lt;int&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;
## 1 1100304       2021     75.6 medio   3.55
## 2 1200435       2021     90   medio   2.9 
## 3 1300060       2021     89.4 medio   3   
## 4 1300201       2021     72.7 medio   2.2 
## 5 1300508       2021     87.1 medio   3.1
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Dicionário&lt;/div&gt;

**BASES IDEB_FUND E IDEB_MEDIO**

- **Fund:** Ensino Fundamental

- **Medio:** Ensino Médio

1. `id_municipio`: código do IBGE de identificação do município

2. `tx_aprov`: taxa de aprovação média do município 

3. `ideb`: índice de desenvolvimento da educação básica

  - é calculado a partir dos dados de aprovação escolar (obtidos pelo Censo Escolar) e das médias de desempenho no Sistema de Avaliação da Educação Básica (Saeb)

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Indicadores&lt;/div&gt;

.tiny[

```r
head(indic_fund, n = 5)
```

```
## # A tibble: 5 × 5
##     ano id_municipio tx_aband hrs_aula   tdi
##   &lt;int&gt; &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1  2021 1100015         0.167     4    21.9 
## 2  2021 1100023         1.63      4.41 13.6 
## 3  2021 1100031         0.355     4    10.7 
## 4  2021 1100049         0.493     4.49  9.31
## 5  2021 1100056         0.22      4.06  7.52
```

```r
head(indic_medio, n = 5)
```

```
## # A tibble: 5 × 5
##     ano id_municipio tx_aband hrs_aula   tdi
##   &lt;int&gt; &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1  2021 1100015          1        4.77  44.5
## 2  2021 1100023          5.13     6.47  25.7
## 3  2021 1100031          3.8      4     19.3
## 4  2021 1100049          4.32     6.86  28.2
## 5  2021 1100056          9.51     6.89  24.3
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Dicionário&lt;/div&gt;

**BASES INDIC_FUND E INDIC_MEDIO**

- **Indic:** Indicadores

- **Fund:** Ensino Fundamental

- **Medio:** Ensino Médio

1. `id_municipio`: código do IBGE de identificação do município

2. `tx_aband`: taxa de abandono escolar média do município 

3. `hrs_aula`: média das horas de aula por município

4. `tdi`: taxa de distorção idade-série

  - proproção de alunos com mais de 2 anos de atraso escolar

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;PIB&lt;/div&gt;

.tiny[

```r
head(pib_pop, n = 5)
```

```
## # A tibble: 5 × 4
##   id_municipio   ano        pib populacao
##   &lt;chr&gt;        &lt;int&gt;      &lt;dbl&gt;     &lt;dbl&gt;
## 1 1100015       2020  570272326     22728
## 2 1100023       2020 2818048618    109523
## 3 1100031       2020  167189811      5188
## 4 1100049       2020 2519352677     85893
## 5 1100056       2020  600670074     16204
```
]

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

.right[&lt;span style='font-size:80%'&gt;O Pib &lt;i&gt;per capita&lt;/i&gt; será calculado depois.&lt;/span&gt;]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Dicionário&lt;/div&gt;

**PIB**

1. `id_municipio`: código do IBGE de identificação do município

2. `pib`: pib dos municípios em 2020

3. `populacao`: população dos municípios em 2020

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

.right[&lt;span style='font-size:80%'&gt;O Pib &lt;i&gt;per capita&lt;/i&gt; será calculado depois.&lt;/span&gt;]

&lt;/div&gt;
&lt;/div&gt;

&lt;!-- &lt;div class="my-footer"&gt;O Pib &lt;i&gt;per capita&lt;/i&gt; será calculado depois.&lt;/div&gt; --&gt;

---

### Padronizando as bases de dados

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Ideb (F)&lt;/div&gt;

.tiny[

```r
ideb_fundamental &lt;- ideb_fund %&gt;% 
  select(id_municipio, tx_aprov, ideb)

ideb_fundamental
```

```
## # A tibble: 5,569 × 3
##    id_municipio tx_aprov  ideb
##    &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;
##  1 1100015          94.3  4.75
##  2 1100023          94.2  4.98
##  3 1100049          99.5  5.32
##  4 1100064          99.3  5.65
##  5 1100072          98.6  5.32
##  6 1100080          94.3  4.78
##  7 1100098          98.3  5.24
##  8 1100106          96.7  4.76
##  9 1100122          98.4  5.28
## 10 1100148         100    5.74
## # ℹ 5,559 more rows
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Ideb (M)&lt;/div&gt;

.tiny[

```r
ideb_medio &lt;- ideb_medio %&gt;% 
  select(id_municipio, tx_aprov, ideb)

ideb_medio
```

```
## # A tibble: 5,557 × 3
##    id_municipio tx_aprov  ideb
##    &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;
##  1 1100304          75.6  3.55
##  2 1200435          90    2.9 
##  3 1300060          89.4  3   
##  4 1300201          72.7  2.2 
##  5 1300508          87.1  3.1 
##  6 1300607          87.4  2.8 
##  7 1300680          87.5  3.1 
##  8 1300805          87.2  3.1 
##  9 1300839          94.9  3.1 
## 10 1301407          88.6  3.9 
## # ℹ 5,547 more rows
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Indicador (F)&lt;/div&gt;

.tiny[

```r
indicadores_fundamental &lt;- indic_fund %&gt;% 
  select(id_municipio, tx_aband, hrs_aula, tdi)

indicadores_fundamental
```

```
## # A tibble: 5,570 × 4
##    id_municipio tx_aband hrs_aula   tdi
##    &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
##  1 1100015         0.167     4    21.9 
##  2 1100023         1.63      4.41 13.6 
##  3 1100031         0.355     4    10.7 
##  4 1100049         0.493     4.49  9.31
##  5 1100056         0.22      4.06  7.52
##  6 1100064         0         4.05  7.15
##  7 1100072         0         4.04 13.0 
##  8 1100080         2.87      4.2  23.2 
##  9 1100098         1.97      4.24 14.8 
## 10 1100106         2.28      4.14 27.2 
## # ℹ 5,560 more rows
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Indicador (M)&lt;/div&gt;

.tiny[

```r
indicadores_medio &lt;- indic_medio %&gt;% 
  select(id_municipio, tx_aband, hrs_aula, tdi)

indicadores_medio
```

```
## # A tibble: 5,570 × 4
##    id_municipio tx_aband hrs_aula   tdi
##    &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
##  1 1100015         1         4.77  44.5
##  2 1100023         5.13      6.47  25.7
##  3 1100031         3.8       4     19.3
##  4 1100049         4.32      6.86  28.2
##  5 1100056         9.51      6.89  24.3
##  6 1100064         0.98      7.04  16.5
##  7 1100072         0.8       4     21.9
##  8 1100080         0.133     4.5   34.3
##  9 1100098         0         5.66  31.3
## 10 1100106         8.68      6.18  46.2
## # ℹ 5,560 more rows
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;PIB&lt;/div&gt;

.tiny[

```r
pib_pc &lt;- pib_pop %&gt;% 
  mutate(pib_pc = pib/populacao) %&gt;% # cria a coluna pib_pc
  select(id_municipio, pib_pc)  
  
pib_pc
```

```
## # A tibble: 5,570 × 2
##    id_municipio pib_pc
##    &lt;chr&gt;         &lt;dbl&gt;
##  1 1100015      25091.
##  2 1100023      25730.
##  3 1100031      32226.
##  4 1100049      29331.
##  5 1100056      37069.
##  6 1100064      23606.
##  7 1100072      37172.
##  8 1100080      13936.
##  9 1100098      20380.
## 10 1100106      21148.
## # ℹ 5,560 more rows
```
]

&lt;/div&gt;
&lt;/div&gt;

---

### Juntando as bases de dados: Fundamental

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;left-join seguidos&lt;/div&gt;

.tiny[

```r
fund &lt;- left_join(
  ideb_fundamental, indicadores_fundamental, by = "id_municipio"
) %&gt;% left_join(pib_pc, by = "id_municipio")

fund
```

```
## # A tibble: 5,569 × 7
##    id_municipio tx_aprov  ideb tx_aband hrs_aula   tdi pib_pc
##    &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1 1100015          94.3  4.75    0.167     4    21.9  25091.
##  2 1100023          94.2  4.98    1.63      4.41 13.6  25730.
##  3 1100049          99.5  5.32    0.493     4.49  9.31 29331.
##  4 1100064          99.3  5.65    0         4.05  7.15 23606.
##  5 1100072          98.6  5.32    0         4.04 13.0  37172.
##  6 1100080          94.3  4.78    2.87      4.2  23.2  13936.
##  7 1100098          98.3  5.24    1.97      4.24 14.8  20380.
##  8 1100106          96.7  4.76    2.28      4.14 27.2  21148.
##  9 1100122          98.4  5.28    1.9       4.53 16.7  31210.
## 10 1100148         100    5.74    0         4.27  6.42 19687.
## # ℹ 5,559 more rows
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;reduce&lt;/div&gt;

.tiny[

```r
# programação funcional - é o mais indicado!
fund &lt;- list(ideb_fundamental, indicadores_fundamental, pib_pc) %&gt;% 
  reduce(left_join)

fund
```

```
## # A tibble: 5,569 × 7
##    id_municipio tx_aprov  ideb tx_aband hrs_aula   tdi pib_pc
##    &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1 1100015          94.3  4.75    0.167     4    21.9  25091.
##  2 1100023          94.2  4.98    1.63      4.41 13.6  25730.
##  3 1100049          99.5  5.32    0.493     4.49  9.31 29331.
##  4 1100064          99.3  5.65    0         4.05  7.15 23606.
##  5 1100072          98.6  5.32    0         4.04 13.0  37172.
##  6 1100080          94.3  4.78    2.87      4.2  23.2  13936.
##  7 1100098          98.3  5.24    1.97      4.24 14.8  20380.
##  8 1100106          96.7  4.76    2.28      4.14 27.2  21148.
##  9 1100122          98.4  5.28    1.9       4.53 16.7  31210.
## 10 1100148         100    5.74    0         4.27  6.42 19687.
## # ℹ 5,559 more rows
```
]

&lt;/div&gt;
&lt;/div&gt;

---

### Análises Descritivas: Fundamental

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;resumo&lt;/div&gt;

.tiny[

```r
summary(fund)
```

```
##  id_municipio          tx_aprov           ideb          tx_aband      
##  Length:5569        Min.   : 64.00   Min.   :2.600   Min.   : 0.0000  
##  Class :character   1st Qu.: 95.16   1st Qu.:4.700   1st Qu.: 0.0750  
##  Mode  :character   Median : 97.95   Median :5.280   Median : 0.4364  
##                     Mean   : 96.44   Mean   :5.221   Mean   : 1.1324  
##                     3rd Qu.: 99.43   3rd Qu.:5.717   3rd Qu.: 1.3833  
##                     Max.   :100.00   Max.   :8.800   Max.   :20.8000  
##                     NA's   :76       NA's   :240                      
##     hrs_aula           tdi             pib_pc        
##  Min.   : 3.400   Min.   : 0.000   Min.   :    13.6  
##  1st Qu.: 4.185   1st Qu.: 7.275   1st Qu.:  9950.1  
##  Median : 4.400   Median :12.046   Median : 17632.7  
##  Mean   : 4.602   Mean   :13.680   Mean   : 25032.0  
##  3rd Qu.: 4.755   3rd Qu.:19.064   3rd Qu.: 32072.9  
##  Max.   :10.300   Max.   :53.300   Max.   :591101.1  
## 
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;histogram&lt;/div&gt;

.tiny[

```r
fund %&gt;% 
  ggplot() +
  aes(x = ideb) +
* geom_histogram()
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-14-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;bloxplot (x)&lt;/div&gt;

.tiny[

```r
fund %&gt;% 
  ggplot() +
* aes(x = ideb) +
* geom_boxplot()
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-15-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;bloxplot (y)&lt;/div&gt;

.pull-left[
.tiny[

```r
fund %&gt;% 
  ggplot() +
* aes(y = ideb) +
* geom_boxplot()
```
]
]

.pull-right[
.tiny[
&lt;img src="05-regressao_files/figure-html/unnamed-chunk-17-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]
]

&lt;/div&gt;
&lt;/div&gt;

---

### Regressão Linear: Fundamental

**Será que a taxa de distorção idade-série e a taxa de abandono escolar possuem relação positiva?**
&lt;!-- **Será que a `tdi` e a `tx_aband` possuem relação positiva?** --&gt;


&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;sem linha de tendência&lt;/div&gt;

.tiny[

```r
fund %&gt;% 
  ggplot(aes(x = tdi, y = tx_aband)) +
  geom_point() 
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-18-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;com linha de tendência&lt;/div&gt;

.tiny[

```r
fund %&gt;% 
  ggplot(aes(x = tdi, y = tx_aband)) +
  geom_point() +
* geom_smooth(method = "lm", se = FALSE)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-19-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;/div&gt;

---

**Será que a taxa de distorção idade-série e a taxa de abandono escolar possuem relação positiva?**
&lt;!-- **Será que a `tdi` e a `tx_aband` possuem relação positiva?** --&gt;

.tiny[

```r
modelo1 &lt;- lm(tx_aband ~ tdi, data = fund)
summary(modelo1)
```

```
## 
## Call:
## lm(formula = tx_aband ~ tdi, data = fund)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.3881 -0.7446 -0.1523  0.3974 18.3472 
## 
## Coefficients:
##              Estimate Std. Error t value            Pr(&gt;|t|)    
## (Intercept) -0.568396   0.039688  -14.32 &lt;0.0000000000000002 ***
## tdi          0.124327   0.002501   49.71 &lt;0.0000000000000002 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 1.501 on 5567 degrees of freedom
## Multiple R-squared:  0.3074,	Adjusted R-squared:  0.3073 
## F-statistic:  2471 on 1 and 5567 DF,  p-value: &lt; 0.00000000000000022
```
]

---

**Será que a taxa de distorção idade-série e a taxa de abandono escolar possuem relação positiva?**
&lt;!-- **Será que a `tdi` e a `tx_aband` possuem relação positiva?** --&gt;

A relação entre a taxa de distorção idade-série (`tdi`) e a taxa de abandono escolar (`tx_aband`) é positiva, mas não parece ser muito forte. A variável `tdi` tem significância estatística muito próxima a zero. E o R&lt;mathml&gt;&lt;mi&gt;&amp;#178;&lt;/mi&gt;&lt;/mathml&gt; é igual a 0.3074, indicando que 30.74% da equação é explicada pela variável explicativa.

&lt;br&gt;

$$
\text{tx_aband} = -0.568 + 0.124 \cdot \text{tdi}   
$$
&lt;br&gt;

**Interpretação:** 

O aumento de 1 p.p. na taxa de distorção idade-série (`tdi`) retorna um aumento de 0.12 p.p. na taxa de abandono escolar (`tx_aband`).

Percebe-se que quanto maior for a distorção idade-série (`tdi`), maiores serão as taxas de abandono escolar (`tx_aband`).

---

**Qual a relação entre `tdi`, `tx_aprov`, `hrs_aula` e a `tx_aband`?**

.tiny[

```r
modelo2 &lt;- lm(tx_aband ~ tdi + tx_aprov + hrs_aula, data = fund)
summary(modelo2)
```

```
## 
## Call:
## lm(formula = tx_aband ~ tdi + tx_aprov + hrs_aula, data = fund)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -7.9012 -0.5380  0.0074  0.3868 13.5496 
## 
## Coefficients:
##              Estimate Std. Error t value            Pr(&gt;|t|)    
## (Intercept) 22.093790   0.459395  48.093 &lt;0.0000000000000002 ***
## tdi          0.059155   0.002466  23.985 &lt;0.0000000000000002 ***
## tx_aprov    -0.227616   0.004547 -50.054 &lt;0.0000000000000002 ***
## hrs_aula     0.039772   0.024120   1.649              0.0992 .  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 1.247 on 5489 degrees of freedom
##   (76 observations deleted due to missingness)
## Multiple R-squared:  0.525,	Adjusted R-squared:  0.5248 
## F-statistic:  2023 on 3 and 5489 DF,  p-value: &lt; 0.00000000000000022
```
]

---

**Qual a relação entre `tdi`, `tx_aprov`, `hrs_aula` e a `tx_aband`?**

&lt;span style='font-size:80%'&gt;A taxa de distorção idade-série (`dti`) e as horas-aula (`hrs_aula`) possuem relação positiva em relação à taxa de abandono (`tx_aband`), sendo a primeira variável com significância estatística muito próxima de zero, ou seja, significativa estatisticamente; e a segunda variável significativa estatisticamente para 10%. A taxa de aprovação (`tx_aprov`) apresenta uma relação negativa com a taxa de abandono (`tx_aband`), tendo significância estatística próxima a zero. O R&lt;mathml&gt;&lt;mi&gt;&amp;#178;&lt;/mi&gt;&lt;/mathml&gt; é igual a 0.525, ou seja, 52.5% da equação é explicada pelos parâmetros. E o Teste F é estatisticamente significativo, indicando que todos os parâmetros são conjuntamente significativos.&lt;/span&gt;


$$
\text{tx_aband} = 22.093 + 0.059 \cdot \text{tdi} - 0.228 \cdot \text{tx_aprov} + 0.040 \cdot \text{hrs_aula}
$$

**Interpretação:**

&lt;span style='font-size:80%'&gt;Um aumento de 1 p.p. na taxa de distorção idade-série (`tdi`) gera um aumento de 0.059 p.p. na taxa de abandono escolar (`tx_aband`), &lt;i&gt;ceteris paribus&lt;/i&gt;.&lt;/span&gt;

&lt;span style='font-size:80%'&gt;Um aumento de 1 p.p. na taxa de aprovação (`tx_aprov`) resulta em uma redução de 0.228 p.p. na taxa de abandono (`tx_aband`), &lt;i&gt;ceteris paribus&lt;/i&gt;.&lt;/span&gt; 

&lt;span style='font-size:80%'&gt;Um aumento de 1 hora-aula (`hrs_aula`) resulta em um aumento de 0.04 p.p. na taxa de abandono escolar (`tx_aband`), &lt;i&gt;ceteris paribus&lt;/i&gt;.&lt;/span&gt; 

---

**Qual a relação entre `tdi`, `tx_aprov`, `pib_pc` e a `tx_aband`?**

.tiny[

```r
modelo3 &lt;- lm(tx_aband ~ tdi + tx_aprov + pib_pc, data = fund)
summary(modelo3)
```

```
## 
## Call:
## lm(formula = tx_aband ~ tdi + tx_aprov + pib_pc, data = fund)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -7.9172 -0.5341  0.0029  0.3950 13.4971 
## 
## Coefficients:
##                  Estimate    Std. Error t value             Pr(&gt;|t|)    
## (Intercept) 22.4542701326  0.4542594357  49.430 &lt; 0.0000000000000002 ***
## tdi          0.0558233892  0.0024906456  22.413 &lt; 0.0000000000000002 ***
## tx_aprov    -0.2278378678  0.0045008297 -50.621 &lt; 0.0000000000000002 ***
## pib_pc      -0.0000043906  0.0000006038  -7.272    0.000000000000404 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 1.241 on 5489 degrees of freedom
##   (76 observations deleted due to missingness)
## Multiple R-squared:  0.5293,	Adjusted R-squared:  0.5291 
## F-statistic:  2058 on 3 and 5489 DF,  p-value: &lt; 0.00000000000000022
```
]

---

**Qual a relação entre `tdi`, `tx_aprov`, `pib_pc` e a `tx_aband`?**

&lt;span style='font-size:80%'&gt;Enquanto a taxa de distorção idade-série (`tdi`) tem uma relação positiva com a taxa de abandono escola (`tx_aband`), as variáveis de taxa de aprovação escolar (`tx_aprov`) e de Pib &lt;i&gt;per capita&lt;/i&gt; possuem uma relação negativa. Todos os parâmetros são estatisticamente significantes. O R&lt;mathml&gt;&lt;mi&gt;&amp;#178;&lt;/mi&gt;&lt;/mathml&gt; é igual a 0.5293, indicando que 52.93% da equação é explicada pelo modelo. O Teste F tem &lt;i&gt;p-valor&lt;/i&gt; muito próximo a zero, ou seja, todos os parâmetros são conjuntamente significativos.&lt;/span&gt;


$$
\text{tx_aband} = 22.438 + 0.056 \cdot \text{tdi} - 0.229 \cdot \text{tx_aprov} - 0.000004 \cdot \text{pib_pc}
$$

&lt;br&gt;

**Interpretação:**

&lt;span style='font-size:80%'&gt;O pib &lt;i&gt;per capita&lt;/i&gt; (`pib_pc`) possui uma relação negativa com a taxa de abandono escolar (`tx_aband`), isto é, quanto maior for o pib &lt;i&gt;per capita&lt;/i&gt; do município, menor será a taxa de abandono escolar.&lt;/span&gt;

&lt;span style='font-size:80%'&gt;O aumento de 1 Real no pib &lt;i&gt;per capita&lt;/i&gt; gera uma queda de 0.000004 p.p. na taxa de abandono escolar. Convertendo o valor do `pib_pc` para 10 mil Reais, isso corresponde a um decréscimo de 0.04 p.p. na taxa de abandono escolar.&lt;/span&gt;

&lt;span style='font-size:80%'&gt;Isso indica que municípios mais ricos possuem valores consideravelmente menores de abandono escolar quando comparados com municípios mais pobres, &lt;i&gt;ceteris paribus&lt;/i&gt;.&lt;/span&gt;

---

### Juntando as bases de dados: Médio

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;left-join seguidos&lt;/div&gt;

.tiny[

```r
medio &lt;- left_join(
  ideb_medio, indicadores_medio, by = "id_municipio"
) %&gt;% left_join(pib_pc, by = "id_municipio")

medio
```

```
## # A tibble: 5,557 × 7
##    id_municipio tx_aprov  ideb tx_aband hrs_aula   tdi pib_pc
##    &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1 1100304          75.6  3.55     2.94     4.56  31.3 30848.
##  2 1200435          90    2.9      9.9      4.93  54.1 12526.
##  3 1300060          89.4  3        4.87     4     46.3  8689.
##  4 1300201          72.7  2.2     21.4      3.87  62.0  8469.
##  5 1300508          87.1  3.1      5.83     4.8   47.8  9653.
##  6 1300607          87.4  2.8      8        5.67  35.7  7951.
##  7 1300680          87.5  3.1     11.8      3.87  47.2  8229.
##  8 1300805          87.2  3.1      6.63     4.97  42.2  8659.
##  9 1300839          94.9  3.1      2.23     3.83  44.6 12846.
## 10 1301407          88.6  3.9      1.08     7.05  29.0  1409.
## # ℹ 5,547 more rows
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;reduce&lt;/div&gt;

.tiny[

```r
# programação funcional - é o mais indicado! 
medio &lt;- list(ideb_medio, indicadores_medio, pib_pc) %&gt;% 
  reduce(left_join)

medio
```

```
## # A tibble: 5,557 × 7
##    id_municipio tx_aprov  ideb tx_aband hrs_aula   tdi pib_pc
##    &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1 1100304          75.6  3.55     2.94     4.56  31.3 30848.
##  2 1200435          90    2.9      9.9      4.93  54.1 12526.
##  3 1300060          89.4  3        4.87     4     46.3  8689.
##  4 1300201          72.7  2.2     21.4      3.87  62.0  8469.
##  5 1300508          87.1  3.1      5.83     4.8   47.8  9653.
##  6 1300607          87.4  2.8      8        5.67  35.7  7951.
##  7 1300680          87.5  3.1     11.8      3.87  47.2  8229.
##  8 1300805          87.2  3.1      6.63     4.97  42.2  8659.
##  9 1300839          94.9  3.1      2.23     3.83  44.6 12846.
## 10 1301407          88.6  3.9      1.08     7.05  29.0  1409.
## # ℹ 5,547 more rows
```
]

&lt;/div&gt;
&lt;/div&gt;

---

### Análises Descritivas: Médio

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;resumo&lt;/div&gt;

.tiny[

```r
summary(medio)
```

```
##  id_municipio          tx_aprov           ideb          tx_aband      
##  Length:5557        Min.   : 37.10   Min.   :2.000   Min.   : 0.0000  
##  Class :character   1st Qu.: 86.70   1st Qu.:3.800   1st Qu.: 0.5333  
##  Mode  :character   Median : 93.80   Median :4.200   Median : 2.7750  
##                     Mean   : 90.89   Mean   :4.172   Mean   : 5.1947  
##                     3rd Qu.: 97.90   3rd Qu.:4.600   3rd Qu.: 7.1400  
##                     Max.   :100.00   Max.   :6.400   Max.   :50.1000  
##                     NA's   :132      NA's   :2138                     
##     hrs_aula           tdi            pib_pc        
##  Min.   : 3.000   Min.   : 0.00   Min.   :    13.6  
##  1st Qu.: 4.333   1st Qu.:15.40   1st Qu.:  9948.5  
##  Median : 4.800   Median :23.30   Median : 17596.6  
##  Mean   : 5.231   Mean   :25.74   Mean   : 25023.3  
##  3rd Qu.: 5.725   3rd Qu.:34.20   3rd Qu.: 32063.3  
##  Max.   :15.500   Max.   :74.90   Max.   :591101.1  
## 
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;histogram&lt;/div&gt;

.tiny[

```r
medio %&gt;% 
  ggplot() +
  aes(x = ideb) +
* geom_histogram()
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-26-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;bloxplot (x)&lt;/div&gt;

.tiny[

```r
medio %&gt;% 
  ggplot() +
* aes(x = ideb) +
* geom_boxplot()
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-27-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;bloxplot (y)&lt;/div&gt;

.pull-left[
.tiny[

```r
medio %&gt;% 
  ggplot() +
* aes(y = ideb) +
* geom_boxplot()
```
]
]

.pull-right[
.tiny[
&lt;img src="05-regressao_files/figure-html/unnamed-chunk-29-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]
]

&lt;/div&gt;
&lt;/div&gt;

---

### Regressão Linear: Médio

**Qual é a relação entre o `ideb` e a `tx_aband`?**

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;sem linha de tendência&lt;/div&gt;

.tiny[

```r
medio %&gt;% 
  ggplot(aes(x = ideb, y = tx_aband)) +
  geom_point()
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-30-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;com linha de tendência&lt;/div&gt;

.tiny[

```r
medio %&gt;% 
  ggplot(aes(x = ideb, y = tx_aband)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-31-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;/div&gt;

&lt;div class="my-footer"&gt;Quanto maior for o ideb, menor será a taxa de abandono. Há uma relação forte com a queda na taxa de abandono.&lt;/a&gt;&lt;/div&gt;

---

**Qual a relação entre a `tx_aprov` e a `tx_aband`?**

&lt;br&gt;

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;sem linha de tendência&lt;/div&gt;

.tiny[

```r
medio %&gt;% 
  ggplot(aes(x = tx_aprov, y = tx_aband)) +
  geom_point() 
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-32-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;com linha de tendência&lt;/div&gt;

.tiny[

```r
medio %&gt;% 
  ggplot(aes(x = tx_aprov, y = tx_aband)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-33-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;/div&gt;

---

**Qual a relação entre a `hrs_aula` e a `tx_aband`?**

&lt;br&gt;

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;sem linha de tendência&lt;/div&gt;

.tiny[

```r
medio %&gt;% 
  ggplot(aes(x = hrs_aula, y = tx_aband)) +
  geom_point() 
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-34-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;com linha de tendência&lt;/div&gt;

.tiny[

```r
medio %&gt;% 
  ggplot(aes(x = hrs_aula, y = tx_aband)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-35-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;/div&gt;


---

**Qual a relação entre `tdi`, `hrs_aula`, `pib_pc` e a `tx_aband`?**

.tiny[

```r
modelo4 &lt;- lm(tx_aband ~ tx_aprov + tdi + hrs_aula + pib_pc,data=medio)
summary(modelo4)
```

```
## 
## Call:
## lm(formula = tx_aband ~ tx_aprov + tdi + hrs_aula + pib_pc, data = medio)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -31.677  -1.677   0.049   1.714  21.847 
## 
## Coefficients:
##                 Estimate   Std. Error t value             Pr(&gt;|t|)    
## (Intercept) 49.940031051  0.689761077  72.402 &lt; 0.0000000000000002 ***
## tx_aprov    -0.503759396  0.006755950 -74.565 &lt; 0.0000000000000002 ***
## tdi          0.082584688  0.004669374  17.686 &lt; 0.0000000000000002 ***
## hrs_aula    -0.136272720  0.042974236  -3.171              0.00153 ** 
## pib_pc      -0.000014282  0.000002034  -7.021     0.00000000000248 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 4.073 on 5420 degrees of freedom
##   (132 observations deleted due to missingness)
## Multiple R-squared:  0.6325,	Adjusted R-squared:  0.6322 
## F-statistic:  2332 on 4 and 5420 DF,  p-value: &lt; 0.00000000000000022
```
]

---

**Qual a relação entre `tdi`, `hrs_aula`, `pib_pc` e a `tx_aband`?**

&lt;br&gt;

$$
\text{tx_aband} = 49.94 - 0.504 \text{tx_aprov} + 0.093 \text{tdi} - 0.136 \text{hrs_aula} - 0.00001\text{pibpc}
$$

**Interpretação:**

&lt;span style='font-size:80%'&gt;O aumento de 1 p.p. na taxa de aprovação (`tx_aprov`) reduz em 0.50 p.p. a taxa de abandono escolar (`tx_aband`), &lt;i&gt;ceteris paribus&lt;/i&gt;.&lt;/span&gt; 

&lt;span style='font-size:80%'&gt;O aumento de 1 p.p. na taxa de distorção idade-série (`tdi`) aumenta em 0.082 p.p. a taxa de abandono escolar (`tx_aband`), &lt;i&gt;ceteris paribus&lt;/i&gt;.&lt;/span&gt;

&lt;span style='font-size:80%'&gt;O aumento de 1 hora-aula (`hrs_aula`) diminui em 0.136 p.p. a taxa de abandono escolar (`tx_aband`), &lt;i&gt;ceteris paribus&lt;/i&gt;.&lt;/span&gt;

&lt;span style='font-size:80%'&gt;O aumento de 1 Real no pib &lt;i&gt;per capita&lt;/i&gt; gera uma queda de 0.00001 p.p. na taxa de abandono escolar, &lt;i&gt;ceteris paribus&lt;/i&gt;. Convertendo o valor do `pib_pc` para 10 mil Reais, isso corresponde a uma redução de 0.1 p.p. na taxa de abandono escolar, &lt;i&gt;ceteris paribus&lt;/i&gt;.&lt;/span&gt;

&lt;span style='font-size:80%'&gt;Quanto mais tempo o adolescente passa na escola, menor é a queda na taxa de abandono escolar. As taxas de abandono no ensino médio são maiores quando comparado com o ensino fundamental. O pib &lt;i&gt;per capita&lt;/i&gt; afeta mais os dados do ensino médio do que do ensino fundamental.&lt;/span&gt;

---

### &lt;span style='color:#34a15a'&gt;BASE DOS DADOS&lt;/span&gt;

&lt;span style='color:#34a15a'&gt;&lt;b&gt;Importando a base da BigQuery para o R:&lt;/b&gt;&lt;/span&gt;

.tiny[

```r
# install.packages("basedosdados")

library(basedosdados)

# faz a ligação entre o R e a BigQuery do Google
set_billing_id("ID-PROJECT") 
```
]

.tiny[

]

.tiny[

```sql
# sem filtro
"SELECT coluna1, coluna2, coluna3,
coluna4 AS apelido_da_coluna
FROM `tabela`" 

# com filtro
"SELECT coluna1, coluna2, coluna3,
coluna4 AS apelido_da_coluna
FROM `tabela`
WHERE coluna1 = valor AND coluna2 = valor"
```
]

---

class: inverse center middle

# Atlas do Desenvolvimento Humano

---

### Atlas do Desenvolvimento Humano

&lt;span style='font-size:80%'; 'text-align:justify'&gt;A plataforma &lt;b&gt;Atlas do Desenvolvimento Humano no Brasil&lt;/b&gt; possui o objetivo de viabilizar, de maneira descomplicada, o acesso amplo às diversas informações estatísticas que constatam características e desigualdades sociais no território brasileiro, sendo uma das maiores ferramentas de divulgação de informações sobre o desenvolvimento humano no país.&lt;/span&gt;

&lt;span style='font-size:80%'; 'text-align:justify'&gt;O &lt;b&gt;Atlas Brasil&lt;/b&gt; é produto da parceria entre o Programa das Nações Unidas para o Desenvolvimento (PNUD), o Instituto de Pesquisa Econômica Aplicada (IPEA) e a Fundação João Pinheiro (FJP). Criado com a finalidade de apresentar o Índice de Desenvolvimemto Humano Municipal (IDHM), o Atlas disponibiliza, também, mais de 330 indicadores que percorrem temas como educação, saúde, habitação, renda, trabalho, vulnerabilidade social, meio ambiente e participação política, para os 5.570 municípios, cinco macrorregiões, 27 Unidades da Federação (UFs), 21 regiões metropolitanas (RMs), três regiões integradas de desenvolvimento (RIDEs) e aproximadamente 17.000 unidades de desenvolvimento humano (UDHs) ou “bairros”, sendo estes as menores territorialidades brasileiras que dialogam diretamente com a realidade do cidadão.&lt;/span&gt;

&lt;span style='font-size:80%'; 'text-align:justify'&gt;O projeto continua, produzindo indicadores desagregados por grupos sociais - mulheres, homens, negros, brancos, populações rurais e urbanas. Além dos Censos Demográficos de 1991, 2000 e 2010, incorpora novas fontes de dados, tais como a Pesquisa Nacional por Amostra de Domicício (PNAD) e informações de registros cadastrais e administrativos.&lt;/span&gt;

&lt;div class="my-header"&gt;Fonte: &lt;a href="http://www.atlasbrasil.org.br/"&gt;Atlas Brasil&lt;/a&gt;&lt;/div&gt;

---

### Importando os dados 

.tiny[

```r
adh &lt;-
"SELECT id_municipio, ano, mortalidade_1, mortalidade_5, 
taxa_freq_liquida_pre, indice_gini,prop_pobreza_extrema_criancas, 
prop_pobreza_criancas, prop_vulner_pobreza_criancas, 
taxa_agua_esgoto_inadequados, taxa_criancas_fora_escola_4_5
FROM `basedosdados.mundo_onu_adh.municipio`" %&gt;%
  read_sql()

glimpse(adh)
```

```
## Rows: 16,695
## Columns: 11
## $ id_municipio                  &lt;chr&gt; "1100031", "1100056", "1100262", "110080…
## $ ano                           &lt;int64&gt; 1991, 2000, 2000, 1991, 1991, 1991, 19…
## $ mortalidade_1                 &lt;dbl&gt; 41.52, 27.50, 28.31, 54.65, 59.58, 41.14…
## $ mortalidade_5                 &lt;dbl&gt; 52.94, 32.93, 33.90, 69.43, 75.59, 52.47…
## $ taxa_freq_liquida_pre         &lt;dbl&gt; 0.00, 14.04, 17.15, 15.81, 2.24, 4.25, 2…
## $ indice_gini                   &lt;dbl&gt; 0.70, 0.69, 0.75, 0.71, 0.70, 0.78, 0.71…
## $ prop_pobreza_extrema_criancas &lt;dbl&gt; 67.41, 22.22, 59.89, 33.60, 59.61, 60.61…
## $ prop_pobreza_criancas         &lt;dbl&gt; 82.74, 46.00, 100.00, 67.87, 82.29, 81.0…
## $ prop_vulner_pobreza_criancas  &lt;dbl&gt; 91.22, 71.37, 100.00, 89.24, 93.75, 92.1…
## $ taxa_agua_esgoto_inadequados  &lt;dbl&gt; 0.63, 24.82, 42.05, 9.60, 7.80, 5.09, 5.…
## $ taxa_criancas_fora_escola_4_5 &lt;dbl&gt; NA, 76.09, 74.15, NA, NA, NA, NA, NA, NA…
```
]

---

**Será que a mortalidade infantil de crianças (até 1 ano) se relaciona com a taxa de água e esgoto inadequados?**

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;sem linha de tendência&lt;/div&gt;

.tiny[

```r
adh %&gt;% 
  ggplot() +
  aes(x = taxa_agua_esgoto_inadequados, y = mortalidade_1) +
  geom_point() 
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-41-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;com linha de tendência&lt;/div&gt;

.tiny[

```r
adh %&gt;% 
  ggplot() +
  aes(x = taxa_agua_esgoto_inadequados, y = mortalidade_1) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-42-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;/div&gt;

&lt;div class="my-footer"&gt;Apesar dos pontos estarem espalhados no gráfico, é possível perceber uma relação positiva entre as variáveis.&lt;/div&gt;

---

**Será que a mortalidade infantil de crianças (até 1 ano) se relaciona com a taxa de água e esgoto inadequados?**

.tiny[

```r
modelo5 &lt;- lm(mortalidade_1 ~ taxa_agua_esgoto_inadequados, data=adh)
summary(modelo5)
```

```
## 
## Call:
## lm(formula = mortalidade_1 ~ taxa_agua_esgoto_inadequados, data = adh)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -59.422 -10.285  -3.636   7.427  81.355 
## 
## Coefficients:
##                               Estimate Std. Error t value            Pr(&gt;|t|)
## (Intercept)                  24.098839   0.149584   161.1 &lt;0.0000000000000002
## taxa_agua_esgoto_inadequados  0.689124   0.006565   105.0 &lt;0.0000000000000002
##                                 
## (Intercept)                  ***
## taxa_agua_esgoto_inadequados ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 15.69 on 16693 degrees of freedom
## Multiple R-squared:  0.3976,	Adjusted R-squared:  0.3976 
## F-statistic: 1.102e+04 on 1 and 16693 DF,  p-value: &lt; 0.00000000000000022
```
]

---

**Será que a mortalidade infantil de crianças (até 1 ano) se relaciona com a taxa de água e esgoto inadequados?**

A taxa de pessoas em domicílios com abastecimento de água e esgoto sanitário inadequados (`taxa_agua_esgoto_inadequados`) se relaciona positivamente com a mortalidade de crianças com até um (1) ano de idade (`mortalidade_1`). É observado que a variável independente (`taxa_agua_esgoto_inadequados`) possui uma significância estatística muito próxima à zero, sendo significativa estatisticamente. O R&lt;mathml&gt;&lt;mi&gt;&amp;#178;&lt;/mi&gt;&lt;/mathml&gt; é igual a 0.3976, ou seja, 39.76% da equação é explicada pelo modelo.

&lt;br&gt;

$$
\text{mortalidade_1} = 24.099 + 0.689 \cdot \text{taxa_agua_esgoto_inadequados}
$$

&lt;br&gt;

**Interpretação:**

Um aumento de 1 p.p. na taxa de água e esgoto inadequados (`taxa_agua_esgoto_inadequados`) gera um aumento de 0.689 p.p. na mortalidade de crianças com até um (1) ano de idade (`mortalidade_1`). 

---

**Relação entre a proporção de extrema pobreza em crianças e a mortalidade infantil (até 5 anos)**

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;sem linha de tendência&lt;/div&gt;

.tiny[

```r
adh %&gt;% 
  ggplot() +
  aes(x = prop_pobreza_extrema_criancas, y = mortalidade_5) +
  geom_point() 
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-44-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;com linha de tendência&lt;/div&gt;

.tiny[

```r
adh %&gt;% 
  ggplot() +
  aes(x = prop_pobreza_extrema_criancas, y = mortalidade_5) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-45-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;/div&gt;

&lt;div class="my-footer"&gt;É possível perceber uma relação positiva entre a proporção de extrema pobreza em crianças e a mortalidade infantil.&lt;/div&gt;

---

**Relação entre a proporção de extrema pobreza em crianças e a mortalidade infantil (até 5 anos)**

.tiny[

```r
modelo6 &lt;- lm(mortalidade_5 ~ prop_pobreza_extrema_criancas, data=adh)
summary(modelo6)
```

```
## 
## Call:
## lm(formula = mortalidade_5 ~ prop_pobreza_extrema_criancas, data = adh)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -74.322  -8.357  -0.638   6.418  87.053 
## 
## Coefficients:
##                                Estimate Std. Error t value            Pr(&gt;|t|)
## (Intercept)                   13.712534   0.196014   69.96 &lt;0.0000000000000002
## prop_pobreza_extrema_criancas  0.954348   0.005484  174.03 &lt;0.0000000000000002
##                                  
## (Intercept)                   ***
## prop_pobreza_extrema_criancas ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 15.92 on 16693 degrees of freedom
## Multiple R-squared:  0.6447,	Adjusted R-squared:  0.6446 
## F-statistic: 3.029e+04 on 1 and 16693 DF,  p-value: &lt; 0.00000000000000022
```
]

---

**Relação entre a proporção de extrema pobreza em crianças e a mortalidade infantil (até 5 anos)**

A proporção de crianças extremamente pobres (`prop_pobreza_extrema_criancas`) se relaciona positivamente com a mortalidade de crianças com até cinco (5) anos de idade (`mortalidade_5`). A variável dependente (`prop_pobreza_extrema_criancas`) apresenta uma significância estatística muito próxima à zero, sendo, assim, significativa estatisticamente. O R&lt;mathml&gt;&lt;mi&gt;&amp;#178;&lt;/mi&gt;&lt;/mathml&gt; é igual a 0.6447, ou seja, 64.47% da equação é explicada pelo modelo linear.

&lt;br&gt;

$$
\text{mortalidade_5} = 13.712 + 0.954 \cdot \text{prop_pobreza_extrema_criancas}
$$

&lt;br&gt;

**Interpretação:**

Um aumento de 1 p.p. na proporção de crianças extremamente pobres (`prop_pobreza_extrema_criancas`) acarreta um aumento de 0.954 p.p. na mortalidade de crianças com até cinco (5) anos de idade (`mortalidade_5`).

---

&lt;!-- **Em relação ao slide anterior, será que há um padrão regional?** --&gt;

**Será que há um padrão regional para a relação entre a  proporção de extrema pobreza em crianças e a mortalidade infantil (até 5 anos)?**

&lt;span style='font-size:85%'&gt;Primeiro é preciso baixar os dados referentes as regiões do Brasil e, depois, fazer um `left_join()` com a base `adh`. Então, a base `dados` tem os dados de `adh` e os dados de `regiao`.&lt;/span&gt;

.tiny[

```r
regiao &lt;- "SELECT id_municipio, nome_regiao 
FROM `basedosdados.br_bd_diretorios_brasil.municipio`" %&gt;% 
  read_sql()

dados &lt;- left_join(adh, regiao, by = "id_municipio")
```
]

&lt;!-- &lt;span style='font-size:80%'&gt;Agora, a base `dados` tem os dados de `adh` e os dados de `regiao`.&lt;/span&gt; --&gt;

.tiny[

```
## Rows: 16,695
## Columns: 12
## $ id_municipio                  &lt;chr&gt; "1100031", "1100056", "1100262", "110080…
## $ ano                           &lt;int64&gt; 1991, 2000, 2000, 1991, 1991, 1991, 19…
## $ mortalidade_1                 &lt;dbl&gt; 41.52, 27.50, 28.31, 54.65, 59.58, 41.14…
## $ mortalidade_5                 &lt;dbl&gt; 52.94, 32.93, 33.90, 69.43, 75.59, 52.47…
## $ taxa_freq_liquida_pre         &lt;dbl&gt; 0.00, 14.04, 17.15, 15.81, 2.24, 4.25, 2…
## $ indice_gini                   &lt;dbl&gt; 0.70, 0.69, 0.75, 0.71, 0.70, 0.78, 0.71…
## $ prop_pobreza_extrema_criancas &lt;dbl&gt; 67.41, 22.22, 59.89, 33.60, 59.61, 60.61…
## $ prop_pobreza_criancas         &lt;dbl&gt; 82.74, 46.00, 100.00, 67.87, 82.29, 81.0…
## $ prop_vulner_pobreza_criancas  &lt;dbl&gt; 91.22, 71.37, 100.00, 89.24, 93.75, 92.1…
## $ taxa_agua_esgoto_inadequados  &lt;dbl&gt; 0.63, 24.82, 42.05, 9.60, 7.80, 5.09, 5.…
## $ taxa_criancas_fora_escola_4_5 &lt;dbl&gt; NA, 76.09, 74.15, NA, NA, NA, NA, NA, NA…
## $ nome_regiao                   &lt;chr&gt; "Norte", "Norte", "Norte", "Norte", "Nor…
```
]

---

&lt;!-- **Em relação ao slide anterior, será que há um padrão regional?** --&gt;

**Será que há um padrão regional para a relação entre a proporção de extrema pobreza em crianças e a mortalidade infantil (até 5 anos)?**

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;sem linha de tendência&lt;/div&gt;

.tiny[

```r
dados %&gt;% 
  ggplot() +
  aes(x = prop_pobreza_extrema_criancas, y = mortalidade_5, 
      color = nome_regiao) +
  geom_point() +
  scale_color_brewer(palette = "Set2")
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-49-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;com linha de tendência&lt;/div&gt;

.tiny[

```r
dados %&gt;% 
  ggplot() +
  aes(x = prop_pobreza_extrema_criancas, y = mortalidade_5, 
      color = nome_regiao) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) +
  scale_color_brewer(palette = "Set2")
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-50-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;/div&gt;

&lt;div class="my-footer"&gt;Municípios do Norte e Nordeste têm altos índices de mortalidade infantil até 5 anos e de pobreza extrema entre as crianças.&lt;/div&gt;

---

**Relação entre crianças fora da escola (4 e 5 anos) e a proporção de crianças na extrema pobreza**

.tiny[

```r
dados %&gt;% 
  ggplot(aes(x = prop_pobreza_extrema_criancas, 
             y = taxa_criancas_fora_escola_4_5, color = nome_regiao)) +
  geom_point(alpha = 0.5) +
  scale_color_brewer(palette = "Set2") +
  # cria uma linha de tendência para cada região do Brasil
  geom_smooth(method = "lm", se = FALSE)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-51-1.png" width="100%" /&gt;
]

&lt;span style='font-size:90%'&gt;É possível ver que algumas regiões têm uma relação mais inclinada que outras. Por exemplo, um aumento na taxa de pobreza extrema das crianças gera aumentos muito mais fortes na taxa de crianças fora da escola na Região Sul do que no Nordeste.&lt;/span&gt;

---

**Média da Mortalidade Infantil (até 1 ano) por Região Brasileira em 1991, 2000 e 2010**

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Gráfico de Pontos&lt;/div&gt;

.tiny[

```r
dados %&gt;% 
  group_by(ano, nome_regiao) %&gt;% 
  summarise(media = mean(mortalidade_1, na.rm = TRUE)) %&gt;% 
  ggplot() +
  aes(x = media, y = nome_regiao, color = as.factor(ano)) +
  geom_point(size = 4)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-52-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Gráfico de Barras&lt;/div&gt;

.tiny[

```r
dados %&gt;% 
  group_by(ano, nome_regiao) %&gt;% 
  summarise(media = mean(mortalidade_1, na.rm = TRUE)) %&gt;% 
  ggplot() +
  aes(x = nome_regiao, y = media, fill = as.factor(ano)) +
  # indica como as barras devem ser posicionadas
  geom_bar(stat = "identity", position = "dodge")
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-53-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Interpretação&lt;/div&gt;

.tiny[

]

&lt;span style='font-size:90%'; 'text-align:justify'&gt;Os gráficos apresentam duas formas diferentes de apresentar a média da Mortalidade Infantil para crianças com até um (1) ano de idade por região brasileira em três diferentes anos de observação (1991, 2000 e 2010). Em ambos, é possível identificar que os níveis de Mortalidade em crianças com até cinco (5) anos diminuiu ao longo dos anos observados para todas as regiões brasileiras. &lt;/span&gt;

&lt;ul&gt;
&lt;li&gt;&lt;span style='font-size:90%'; 'text-align:justify'&gt; Na &lt;b&gt;Região Centro-Oeste&lt;/b&gt;, a redução foi de 4.91% entre os anos de 1991 e 2000; e 10.82% entre 2000 e 2010.&lt;/span&gt;&lt;/li&gt;

&lt;li&gt;&lt;span style='font-size:90%'; 'text-align:justify'&gt; Na &lt;b&gt;Região Nordeste&lt;/b&gt;, a redução foi de 27.11% entre 1991 e 2000; e 21.9% entre os anos de 2000 e 2010.&lt;/span&gt;&lt;/li&gt;

&lt;li&gt;&lt;span style='font-size:90%'; 'text-align:justify'&gt; Na &lt;b&gt;Região Norte&lt;/b&gt;, a redução foi de 18.52% de 1991 para 2000; e 16.64% de 2000 para 2010.&lt;/span&gt;&lt;/li&gt;

&lt;li&gt;&lt;span style='font-size:90%'; 'text-align:justify'&gt; Na &lt;b&gt;Região Sudeste&lt;/b&gt;, a redução foi de 8.77% entre 1991 e 2000; e 9.08% entre 2000 e 2010.&lt;/span&gt;&lt;/li&gt;

&lt;li&gt;&lt;span style='font-size:90%'; 'text-align:justify'&gt; Na &lt;b&gt;Região Sul&lt;/b&gt;, a redução foi de 9.04% entre os anos de 1991 e 2000; e 6.55% entre os anos de 2000 e 2010.&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;

---

### Mapas

Para criar mapas, é necessário realizar o download dos dados espaciais através do pacote [{geobr}](https://github.com/ipeaGIT/geobr). E, depois, unir as bases com os dados espaciais dos municípios e com os dados do `adh`.

.tiny[

```r
muni &lt;- geobr::read_municipality(year = 2010) %&gt;%
  mutate(code_muni = as.character(code_muni))

muni_dados &lt;- left_join(
  muni, dados, by = c("code_muni" = "id_municipio")
)
```
]

A nova base possui as seguintes colunas:

.tiny[

```
##  [1] "code_muni"                     "name_muni"                    
##  [3] "code_state"                    "abbrev_state"                 
##  [5] "ano"                           "mortalidade_1"                
##  [7] "mortalidade_5"                 "taxa_freq_liquida_pre"        
##  [9] "indice_gini"                   "prop_pobreza_extrema_criancas"
## [11] "prop_pobreza_criancas"         "prop_vulner_pobreza_criancas" 
## [13] "taxa_agua_esgoto_inadequados"  "taxa_criancas_fora_escola_4_5"
## [15] "nome_regiao"                   "geom"
```
]

---

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Mortalidade (até 1 ano)&lt;/div&gt;

.tiny[

```r
muni_dados %&gt;% 
  filter(ano == 2010) %&gt;% 
  ggplot() +
  aes(geometry = geom, fill = mortalidade_1) +
  geom_sf(color = NA) +
  scale_fill_viridis_c(na.value = "grey90")
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-57-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Pobreza Extrema Crianças&lt;/div&gt;

.tiny[

```r
muni_dados %&gt;%
  filter(ano == 2010) %&gt;%
  ggplot() +
  aes(geometry = geom, fill = prop_pobreza_extrema_criancas) +
  geom_sf(color = NA) +
  scale_fill_viridis_c(na.value = "grey90")
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-58-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Tx. Crianças Fora da Escola&lt;/div&gt;

.tiny[

```r
muni_dados %&gt;%
  filter(ano == 2010) %&gt;%
  ggplot() +
  aes(geometry = geom, fill = taxa_criancas_fora_escola_4_5) +
  geom_sf(color = NA) +
  scale_fill_viridis_c(na.value = "grey90")
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-59-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Tx. Água/Esgoto Inadequados&lt;/div&gt;

.tiny[

```r
muni_dados %&gt;%
  filter(ano == 2010) %&gt;%
  ggplot() +
  aes(geometry = geom, fill = taxa_agua_esgoto_inadequados) +
  geom_sf(color = NA) +
  scale_fill_viridis_c(na.value = "grey90")
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-60-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;/div&gt;

---

class: inverse center middle

# Pacote [`{wooldridge}`](https://github.com/JustinMShea/wooldridge/)

&lt;br&gt;
&lt;br&gt;

.right[&lt;span style='font-size:80%'&gt;Este pacote contém a documentação completa &lt;br&gt;para cada conjunto e todos os dados &lt;br&gt; utilizados no livro &lt;span style='color:#f58634'&gt;&lt;b&gt;Introdução à Econometria&lt;/b&gt;&lt;/span&gt; &lt;br&gt; de Jeffrey M. Wooldridge&lt;/span&gt;]

---

### Dado utilizado: &amp;nbsp; `wage`



&lt;span style='font-size:80%'&gt;Estes dados correspondem à Pesquisa Populacional de 1976, coletados por Henry Farver e Jeffrey Wooldridge quando eram colegam no [MIT](https://www.mit.edu/) em 1988. O conjunto é composto por 526 observações e 24 variáveis, tais como: *wage, educ, exper, tenure, nonwhite, female, married, numdep, smsa, northcen, south, west, construc, ndurman, trcommpu, trade, services, profserv, profocc, clerocc, servocc, lwage, expersq, e tenursq*. &lt;/span&gt;

.tiny[

```r
wage &lt;- wooldridge::wage1
```
]


```
## Rows: 526
## Columns: 24
## $ wage     &lt;dbl&gt; 3.10, 3.24, 3.00, 6.00, 5.30, 8.75, 11.25, 5.00, 3.60, 18.18,…
## $ educ     &lt;int&gt; 11, 12, 11, 8, 12, 16, 18, 12, 12, 17, 16, 13, 12, 12, 12, 16…
## $ exper    &lt;int&gt; 2, 22, 2, 44, 7, 9, 15, 5, 26, 22, 8, 3, 15, 18, 31, 14, 10, …
## $ tenure   &lt;int&gt; 0, 2, 0, 28, 2, 8, 7, 3, 4, 21, 2, 0, 0, 3, 15, 0, 0, 10, 0, …
## $ nonwhite &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ female   &lt;int&gt; 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1…
## $ married  &lt;int&gt; 0, 1, 0, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 0, 1, 1, 0…
## $ numdep   &lt;int&gt; 2, 3, 2, 0, 1, 0, 0, 0, 2, 0, 0, 0, 2, 0, 1, 1, 0, 0, 3, 0, 0…
## $ smsa     &lt;int&gt; 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ northcen &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ south    &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ west     &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ construc &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ ndurman  &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ trcommpu &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ trade    &lt;int&gt; 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ services &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ profserv &lt;int&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 1…
## $ profocc  &lt;int&gt; 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1…
## $ clerocc  &lt;int&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0…
## $ servocc  &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0…
## $ lwage    &lt;dbl&gt; 1.1314021, 1.1755733, 1.0986123, 1.7917595, 1.6677068, 2.1690…
## $ expersq  &lt;int&gt; 4, 484, 4, 1936, 49, 81, 225, 25, 676, 484, 64, 9, 225, 324, …
## $ tenursq  &lt;int&gt; 0, 4, 0, 784, 4, 64, 49, 9, 16, 441, 4, 0, 0, 9, 225, 0, 0, 1…
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://justinmshea.github.io/wooldridge/reference/wage1.html#source"&gt;wage1 • wooldridge &lt;/a&gt;&lt;/div&gt;

---

**A relação entre educação e salário**

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Regressão&lt;/div&gt;

.tiny[

```r
mod &lt;- lm(wage ~ educ, data = wage)
summary(mod)
```

```
## 
## Call:
## lm(formula = wage ~ educ, data = wage)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -5.3396 -2.1501 -0.9674  1.1921 16.6085 
## 
## Coefficients:
##             Estimate Std. Error t value            Pr(&gt;|t|)    
## (Intercept) -0.90485    0.68497  -1.321               0.187    
## educ         0.54136    0.05325  10.167 &lt;0.0000000000000002 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 3.378 on 524 degrees of freedom
## Multiple R-squared:  0.1648,	Adjusted R-squared:  0.1632 
## F-statistic: 103.4 on 1 and 524 DF,  p-value: &lt; 0.00000000000000022
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Interpretação&lt;/div&gt;

A relação entre os anos de estudo (`educ`) e o salário médio por hora (`wage`) é positivamente inclinada. O parâmetro de `educ` é estatisticamente significativo. E o R&lt;mathml&gt;&lt;mi&gt;&amp;#178;&lt;/mi&gt;&lt;/mathml&gt; é igual a 0.1648, isto é, 16.48% da equação é explicada pela variável independente (`educ`).

&lt;br&gt;

$$
\text{wage} = -0.905 + 0.541 \cdot \text{educ}
$$

&lt;br&gt;

**Interpretação:**

A cada um 1 ano que aumenta a educação (`educ`), o salário do indivíduo aumenta (em média) 0.54 doláres.

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Gráfico&lt;/div&gt;

.tiny[

```r
wage %&gt;%
  ggplot() +
  aes(x = educ, y = wage) +
  geom_point() +
  geom_smooth(method = 'lm', se = FALSE)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-65-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;/div&gt;

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://justinmshea.github.io/wooldridge/reference/wage1.html#source"&gt;wage1 • wooldridge &lt;/a&gt;&lt;/div&gt;

---

**A relação entre educação e log-salário**

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Regressão&lt;/div&gt;

.tiny[

```r
mod1 &lt;- lm(lwage ~ educ, data = wage)
summary(mod1)
```

```
## 
## Call:
## lm(formula = lwage ~ educ, data = wage)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -2.21158 -0.36393 -0.07263  0.29712  1.52339 
## 
## Coefficients:
##             Estimate Std. Error t value             Pr(&gt;|t|)    
## (Intercept) 0.583773   0.097336   5.998        0.00000000374 ***
## educ        0.082744   0.007567  10.935 &lt; 0.0000000000000002 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.4801 on 524 degrees of freedom
## Multiple R-squared:  0.1858,	Adjusted R-squared:  0.1843 
## F-statistic: 119.6 on 1 and 524 DF,  p-value: &lt; 0.00000000000000022
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Interpretação&lt;/div&gt;

A relação entre os anos de estudo (`educ`) e o log-salário é positivamente inclinado. A variável de educação (`educ`) é significativa estatisticamente, uma vez que possui significância estatística muito próxima à zero. E o R&lt;mathml&gt;&lt;mi&gt;&amp;#178;&lt;/mi&gt;&lt;/mathml&gt; é igual a 0.1858, ou seja, 18.58% da equação é explicada pela variável independente (`educ`).

&lt;br&gt;

&lt;!-- LWAGE = 0.58 + 0.0827EDUC --&gt;
&lt;!-- a cada 1 ano de educacao, o salário aumenta 8.27% (beta * 100) --&gt;

$$
\text{lwage} = 0.584 + 0.083 \cdot \text{educ}
$$

&lt;br&gt;

**Interpretação:**

A cada um (1) ano que aumenta a educação (`educ`), o salário do indivíduo aumenta em 8.30% (&lt;mathml&gt;&lt;mi&gt;&amp;#x03B2;&lt;/mi&gt;&lt;/mathml&gt; • 100).

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Gráfico&lt;/div&gt;

.tiny[

```r
ggplot(wage) +
  aes(x = educ, y = lwage) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-67-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;/div&gt;

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://justinmshea.github.io/wooldridge/reference/wage1.html#source"&gt;wage1 • wooldridge &lt;/a&gt;&lt;/div&gt;

---

&lt;!-- **mincer: o salario da pessoa pode ser estimado por meio da sua experiencia e da sua educacao** --&gt;

**Mincer: o salário é estimado por meio da sua experiência e educação**

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Regressão&lt;/div&gt;

.tiny[

```r
mincer &lt;- lm(lwage ~ educ + exper, data = wage)
summary(mincer)
```

```
## 
## Call:
## lm(formula = lwage ~ educ + exper, data = wage)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -2.05800 -0.30136 -0.04539  0.30601  1.44425 
## 
## Coefficients:
##             Estimate Std. Error t value             Pr(&gt;|t|)    
## (Intercept) 0.216854   0.108595   1.997               0.0464 *  
## educ        0.097936   0.007622  12.848 &lt; 0.0000000000000002 ***
## exper       0.010347   0.001555   6.653      0.0000000000724 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.4614 on 523 degrees of freedom
## Multiple R-squared:  0.2493,	Adjusted R-squared:  0.2465 
## F-statistic: 86.86 on 2 and 523 DF,  p-value: &lt; 0.00000000000000022
```
]
&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Interpretação&lt;/div&gt;

&lt;!-- lwage = 0.2169 + 0.0979 educ + 0.010 exper --&gt;
&lt;!-- aumento de 1 ano em educacao gera um aumento de 9,79% salario --&gt;

Os anos de estudo e de experiência possuem relação positiva com o log-salário. Ambas variáveis independentes, `educ` e `exper` têm significância estatística muito próxima à zero. Cerca de 24.93% da equação é explicada pelo modelo, uma vez que o R&lt;mathml&gt;&lt;mi&gt;&amp;#178;&lt;/mi&gt;&lt;/mathml&gt; é igual a 0.2493.

&lt;br&gt;

$$
\text{lwage} = 0.217 + 0.098 \cdot \text{educ} + 0.010 \cdot \text{exper}
$$

&lt;br&gt;

**Interpretação:**

O aumento de 1 ano de estudo (`educ`) gera um aumento de, aproximadamente, 9.79% do salário, *ceteris paribus*.

O aumento de 1 ano de experiêcia (`exper`) resulta em um aumento de 1.03% do salário, *ceteris paribus*.

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Gráfico&lt;/div&gt;

```r
ggplot(wage) +
  aes(x = educ, y = lwage) +
  geom_point(aes(color = exper), alpha = 0.7) +
  scale_color_viridis_c() +
  geom_smooth(method = "lm", se = FALSE)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-69-1.png" width="100%" /&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://justinmshea.github.io/wooldridge/reference/wage1.html#source"&gt;wage1 • wooldridge &lt;/a&gt;&lt;/div&gt;

---

&lt;!-- **Relação entre salário, educação e experiência ao longo da vida** --&gt;

&lt;div class="panelset"&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Regressão&lt;/div&gt;

.tiny[

```r
mincer2 &lt;- lm(lwage ~ educ + exper + expersq, data = wage)
summary(mincer2)
```

```
## 
## Call:
## lm(formula = lwage ~ educ + exper + expersq, data = wage)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -1.96387 -0.29375 -0.04009  0.29497  1.30216 
## 
## Coefficients:
##               Estimate Std. Error t value             Pr(&gt;|t|)    
## (Intercept)  0.1279975  0.1059323   1.208                0.227    
## educ         0.0903658  0.0074680  12.100 &lt; 0.0000000000000002 ***
## exper        0.0410089  0.0051965   7.892   0.0000000000000177 ***
## expersq     -0.0007136  0.0001158  -6.164   0.0000000014211758 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.4459 on 522 degrees of freedom
## Multiple R-squared:  0.3003,	Adjusted R-squared:  0.2963 
## F-statistic: 74.67 on 3 and 522 DF,  p-value: &lt; 0.00000000000000022
```
]

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Interpretação&lt;/div&gt;

&lt;!-- conforme a experiencia aumenta, ela afeta negativamente o salario da pessoa --&gt;
&lt;!-- lwage = 0.12 + 0.09educ + 0.041exper - 0.00071expersq --&gt;

**Mincer: Relação entre salário, educação e experiência ao longo da vida**

&lt;br&gt;

$$
\text{lwage} = 0.128 + 0.090 \cdot \text{educ} + 0.041 \cdot \text{exper} - 0.0007 \cdot \text{expersq}
$$

&lt;br&gt;

Os anos de estudo (`educ`) e de experiência (`exper`) possuem relação positiva com o log-salário. Entretanto, como é esperado, ao longo do tempo, conforme o indivíduo envelhece e a sua experiência (`expersq`) aumenta, o log-salário (`lwage`) aumenta até atingir um certo ponto e, depois, começa a diminuir. Todos os parâmetros são estatisticamente significantes, sendo muito próximos a zero. O Teste F tem significância estatística (tem *p-valor* próximo a zero), indicando que os parâmetros são conjuntamente significativos. O R&lt;mathml&gt;&lt;mi&gt;&amp;#178;&lt;/mi&gt;&lt;/mathml&gt; é igual a 0.3003, indicando que a equação é explicada por 30.03% das variáveis explicativas.   

&lt;/div&gt;
&lt;div class="panel"&gt;
&lt;div class="panel-name"&gt;Gráfico&lt;/div&gt;

.tiny[

```r
ggplot(wage) +
  aes(x = educ, y = lwage) +
  geom_point(aes(color = exper, size = expersq), alpha = 0.7) +
  scale_color_viridis_c() +
  geom_smooth(method = "lm", se = FALSE)
```

&lt;img src="05-regressao_files/figure-html/unnamed-chunk-71-1.png" width="100%" /&gt;
]

&lt;/div&gt;
&lt;/div&gt;

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://justinmshea.github.io/wooldridge/reference/wage1.html#source"&gt;wage1 • wooldridge &lt;/a&gt;&lt;/div&gt;

---

## Para saber mais!

.pull-left[

- [Causal Inference: The Mixtape](https://mixtape.scunning.com/index.html)

&lt;a href="https://mixtape.scunning.com/index.html"&gt;
&lt;img src="img/slides/54-casual-inference.png" width="60%" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;

]

.pull-right[

- [An Introduction to Statistical Learning: with Applications in R](https://hastie.su.domains/ISLRv2_website.pdf)

&lt;a href="https://mixtape.scunning.com/index.html"&gt;
&lt;img src="img/slides/55-introduction-statistical-learning.png" width="60%" style="display: block; margin: auto;" /&gt;
&lt;/a&gt;

]

---

# Obrigada!

.pull-left[

&lt;img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNjFlNDgyOTRhMTk5MGE4ZTNmNjg5ZWMzM2NlZDU3ODBmZDU0OGFiNiZlcD12MV9pbnRlcm5hbF9naWZzX2dpZklkJmN0PWc/M9NbzZjAcxq9jS9LZJ/giphy.gif" width="65%" style="display: block; margin: auto;" /&gt;

.center[Agradecimento especial a [Curso-R](https://curso-r.com/) pelos materiais.]

.center[Slides criados usando os pacotes em R:]
.center[[**xaringan**](https://github.com/yihui/xaringan)]
.center[[**xaringanthemer**](https://github.com/gadenbuie/xaringanthemer)]

.center[O chakra vem da biblioteca JavaScript [remark.js](https://remarkjs.com), [**knitr**](http://yihui.name/knitr), and [R Markdown](https://rmarkdown.rstudio.com).]
]

.pull-right[

&lt;img src="img/slides/19-luisa.jpg" width="55%" style="display: block; margin: auto;" /&gt;

.center[&lt;i class="fas fa-home"&gt;&lt;/i&gt; [luisa.rbind.io](https://luisa.rbind.io/)]

.center[&lt;i class="fab fa-twitter"&gt;&lt;/i&gt; [@lgiselebock](https://twitter.com/lgiselebock)]

.center[&lt;i class="fab fa-github"&gt;&lt;/i&gt; [@lgiselebock](https://github.com/lgiselebock/)]

.center[&lt;i class="far fa-envelope"&gt;&lt;/i&gt; [luisa.bock@acad.ufsm.br](mailto:luisa.bock@acad.ufsm.br)]
]

&lt;!-- inicio academic icons --&gt;
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css"&gt;
&lt;!-- final academic icons --&gt;

 
&lt;!-- inicio font awesome --&gt;
&lt;script src="https://kit.fontawesome.com/1f72d6921a.js" crossorigin="anonymous"&gt;&lt;/script&gt;

&lt;!-- final font awesome --&gt;






    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
