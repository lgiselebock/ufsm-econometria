<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Análises Econométricas</title>
    <meta charset="utf-8" />
    <meta name="author" content="Luísa Gisele Böck" />
    <script src="03-manipulacao_files/header-attrs/header-attrs.js"></script>
    <script src="03-manipulacao_files/clipboard/clipboard.min.js"></script>
    <link href="03-manipulacao_files/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="03-manipulacao_files/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <script src="03-manipulacao_files/xaringanExtra_fit-screen/fit-screen.js"></script>
    <link href="03-manipulacao_files/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <link href="03-manipulacao_files/shareon/shareon.min.css" rel="stylesheet" />
    <script src="03-manipulacao_files/shareon/shareon.min.js"></script>
    <link href="03-manipulacao_files/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="03-manipulacao_files/xaringanExtra-shareagain/shareagain.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="custom.css" type="text/css" />
    <link rel="stylesheet" href="footer-header.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">










&lt;!-- inicio font awesome --&gt;
&lt;script src="https://kit.fontawesome.com/1f72d6921a.js" crossorigin="anonymous"&gt;&lt;/script&gt;
&lt;!-- final font awesome --&gt;

&lt;!-- inicio github buttons  --&gt;
&lt;script async defer src="https://buttons.github.io/buttons.js"&gt;&lt;/script&gt;
&lt;!-- final github buttons  --&gt;


.pull-left[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
## Análises Econométricas

### Manipulação de Dados

**[Luísa Gisele Böck](https://luisa.rbind.io/)**&amp;nbsp;&amp;nbsp;    &lt;a href='mailto:luisa.bock@acad.ufsm.br'&gt;&lt;i class="far fa-envelope"&gt;&lt;/i&gt;&lt;/a&gt;    &lt;a href='https://twitter.com/lgiselebock'&gt;&lt;i class="fab fa-twitter"&gt;&lt;/i&gt;   &lt;a href='https://github.com/lgiselebock'&gt;&lt;i class="fab fa-github"&gt;&lt;/i&gt;&lt;/a&gt;

__.can-edit[Junho de 2023]__

]

.pull-right[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;img src="img/slides/26-intro-allison-horst-03.png" width="400px" /&gt;

.center[Ilustração por [Allison Horst](https://allisonhorst.com/)]
]

---

### Pipe:  %&gt;% ou |&gt;  

- `CTRL` + `SHIFT` + `M`: cria o &amp;nbsp; `%&gt;%` &amp;nbsp; (ou `|&gt;`).

Imagine uma receita de bolo: 


```r
esfrie(
  asse(
    coloque(
      bata(
        acrescente(
          recipiente(rep("farinha", 2), "água", 
                     "fermento", "leite", "óleo"), 
          "farinha", até = "macio"), 
        duração = "3min"), 
      lugar = "forma", tipo = "grande", 
      untada = TRUE), duração = "50min"), 
  "geladeira", "20min")
```

Assim, é preciso pensar **de dentro para fora**. O primeiro comando lido é `esfrie`, sendo que essa é a última operação que será realizada.

Complicado, né? Veja como a mesma receita é escrita usando o operador `%&gt;%`:

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://abjur.github.io/r4jurimetrics/pipe.html"&gt;R para Jurimetria&lt;/a&gt;&lt;/div&gt;

---

### Pipe:  %&gt;% ou |&gt;  

- `CTRL` + `SHIFT` + `M`: cria o &amp;nbsp; `%&gt;%` &amp;nbsp; (ou `|&gt;`).

Receita de bolo escrita com o `%&gt;%`:


```r
recipiente(rep("farinha", 2), "água", "fermento", "leite", "óleo") %&gt;%
  acrescente("farinha", até = "macio") %&gt;%
  bata(duração = "3min") %&gt;%
  coloque(lugar = "forma", tipo = "grande", untada = TRUE) %&gt;%
  asse(duração = "50min") %&gt;%
  esfrie("geladeira", "20min")
```

Agora o código possui uma leitura muito mais intuitiva!

Pense no `%&gt;%` como um operador que efetua as operações à direita nos valores que estão à esquerda, ou seja, ele passa o que está à esquerda como argumento para a operação da direita.

.footnote[Para mais informações e exemplos de utilização do `%&gt;%`, visite [Ceci n’est pas un pipe](https://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html). Desde a versão 4.1 do `R`, foi disponibilizado o operador `pipe` (`|&gt;`) nativo. Para mais informações, acesse [New features in R 4.1.0](https://www.jumpingrivers.com/blog/new-features-r410-pipe-anonymous-functions/).]

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://beatrizmilz.github.io/2020-R-Ladies-SP-Basico/#1"&gt;R-Ladies São Paulo&lt;/a&gt; e &lt;a href="https://abjur.github.io/r4jurimetrics/pipe.html"&gt;R para Jurimetria&lt;/a&gt;&lt;/div&gt;

---

class: inverse center middle

# Manipulação de dados

.center[(Acompanhe no arquivo `03-manipulacao.R`)]

---

Os exemplos apresentados aqui serão das bases abaixo:


```r
library(tidyverse)

pinguins &lt;- read_csv("dados/pinguins/pinguins.csv")
pinguins_raw &lt;- read_csv("dados/pinguins/pinguins_raw.csv")
```

----


```
## # A tibble: 3 × 8
##   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##   &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
## 1 Adelie  Torgersen           39.1          18.7               181        3750
## 2 Adelie  Torgersen           39.5          17.4               186        3800
## 3 Adelie  Torgersen           40.3          18                 195        3250
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```


```
## # A tibble: 3 × 17
##   studyName `Sample Number` Species          Region Island Stage `Individual ID`
##   &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;          
## 1 PAL0708                 1 Adelie Penguin … Anvers Torge… Adul… N1A1           
## 2 PAL0708                 2 Adelie Penguin … Anvers Torge… Adul… N1A2           
## 3 PAL0708                 3 Adelie Penguin … Anvers Torge… Adul… N2A1           
## # ℹ 10 more variables: `Clutch Completion` &lt;chr&gt;, `Date Egg` &lt;date&gt;,
## #   `Culmen Length (mm)` &lt;dbl&gt;, `Culmen Depth (mm)` &lt;dbl&gt;,
## #   `Flipper Length (mm)` &lt;dbl&gt;, `Body Mass (g)` &lt;dbl&gt;, Sex &lt;chr&gt;,
## #   `Delta 15 N (o/oo)` &lt;dbl&gt;, `Delta 13 C (o/oo)` &lt;dbl&gt;, Comments &lt;chr&gt;
```

---

### Pacote &amp;nbsp; `dplyr`

É o pacote mais útil para realizar a manipulação dos dados, pois possui funções para fazer qualquer tipo de transformação nas linhas e nas colunas da base.

As principais funções do `dplyr` são:

- `filter()`: filtra as linhas
- `select()`: seleciona as colunas
- `arrange()`: ordena as linhas conforme os valores de uma coluna
- `mutate()`: modifica ou cria novas colunas
- `group_by()`: agrupa a base conforme uma coluna
- `summarise()`: sumariza (resume) as colunas
- `left_join()`: junta tabelas


Todas essas funções seguem as seguintes características:

- A função sempre recebe uma `tibble` e sempre retorna uma `tibble`.

- A `tibble` é colocada no primeiro argumento e o que se quer fazer nos demais argumentos.

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### [Cheat Sheets](https://posit.co/resources/cheatsheets/) 

[![Cheat Sheets](img/slides/49-cheatsheet-dplyr.png)](https://posit.co/resources/cheatsheets/)

---

### Selecionando Colunas:  &amp;nbsp; `select()`

O primeiro argumento da função é a base de dados e os demais argumentos são os nomes das colunas que se quer selecionar. *Repare que não se coloca o nome da coluna entre aspas.*


```r
select(pinguins, species)
```

```
## # A tibble: 344 × 1
##    species
##    &lt;chr&gt;  
##  1 Adelie 
##  2 Adelie 
##  3 Adelie 
##  4 Adelie 
##  5 Adelie 
##  6 Adelie 
##  7 Adelie 
##  8 Adelie 
##  9 Adelie 
## 10 Adelie 
## # ℹ 334 more rows
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Selecionando Colunas:  &amp;nbsp; `select()`

Também é possível selecionar várias colunas.


```r
select(pinguins, species, sex, body_mass_g)
```

```
## # A tibble: 344 × 3
##    species sex    body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;        &lt;dbl&gt;
##  1 Adelie  male          3750
##  2 Adelie  female        3800
##  3 Adelie  female        3250
##  4 Adelie  &lt;NA&gt;            NA
##  5 Adelie  female        3450
##  6 Adelie  male          3650
##  7 Adelie  female        3625
##  8 Adelie  male          4675
##  9 Adelie  &lt;NA&gt;          3475
## 10 Adelie  &lt;NA&gt;          4250
## # ℹ 334 more rows
```


&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Selecionando Colunas:  &amp;nbsp; `select()`

O operador `:` é muito útil para selecionar colunas consecutivas.


```r
select(pinguins, island:body_mass_g)
```

```
## # A tibble: 344 × 5
##    island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Torgersen           39.1          18.7               181        3750
##  2 Torgersen           39.5          17.4               186        3800
##  3 Torgersen           40.3          18                 195        3250
##  4 Torgersen           NA            NA                  NA          NA
##  5 Torgersen           36.7          19.3               193        3450
##  6 Torgersen           39.3          20.6               190        3650
##  7 Torgersen           38.9          17.8               181        3625
##  8 Torgersen           39.2          19.6               195        4675
##  9 Torgersen           34.1          18.1               193        3475
## 10 Torgersen           42            20.2               190        4250
## # ℹ 334 more rows
```


&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Selecionando Colunas:  &amp;nbsp; `select()`

O `dplyr` possui um conjunto de funções auxiliares úteis para a seleção de colunas.

- `starts_with()`: para colunas que começam com um texto padrão &lt;br&gt;
- `ends_with()`: para colunas que terminam com um texto padrão &lt;br&gt;
- `contains()`: para colunas que contêm um texto padrão &lt;br&gt;


```r
select(pinguins, ends_with("mm"))
```

```
## # A tibble: 344 × 3
##    bill_length_mm bill_depth_mm flipper_length_mm
##             &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;
##  1           39.1          18.7               181
##  2           39.5          17.4               186
##  3           40.3          18                 195
##  4           NA            NA                  NA
##  5           36.7          19.3               193
##  6           39.3          20.6               190
##  7           38.9          17.8               181
##  8           39.2          19.6               195
##  9           34.1          18.1               193
## 10           42            20.2               190
## # ℹ 334 more rows
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Selecionando Colunas:  &amp;nbsp; `select()`

A(s) coluna(s) pode(m) ser excluída(s) inserindo o caracter `-` na frente da(s) coluna(s).


```r
select(pinguins, -year)
```

```
## # A tibble: 344 × 7
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           NA            NA                  NA          NA
##  5 Adelie  Torgersen           36.7          19.3               193        3450
##  6 Adelie  Torgersen           39.3          20.6               190        3650
##  7 Adelie  Torgersen           38.9          17.8               181        3625
##  8 Adelie  Torgersen           39.2          19.6               195        4675
##  9 Adelie  Torgersen           34.1          18.1               193        3475
## 10 Adelie  Torgersen           42            20.2               190        4250
## # ℹ 334 more rows
## # ℹ 1 more variable: sex &lt;chr&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Selecionando Colunas:  &amp;nbsp; `select()`

A(s) coluna(s) pode(m) ser excluída(s) inserindo o caracter `-` na frente do vetor de colunas.


```r
select(pinguins, -c(year, sex))
```

```
## # A tibble: 344 × 6
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           NA            NA                  NA          NA
##  5 Adelie  Torgersen           36.7          19.3               193        3450
##  6 Adelie  Torgersen           39.3          20.6               190        3650
##  7 Adelie  Torgersen           38.9          17.8               181        3625
##  8 Adelie  Torgersen           39.2          19.6               195        4675
##  9 Adelie  Torgersen           34.1          18.1               193        3475
## 10 Adelie  Torgersen           42            20.2               190        4250
## # ℹ 334 more rows
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Ordenando linhas: &amp;nbsp; `arrange()`

Serve para ordenar as linhas. O primeiro argumento é a base de dados, e os demais argumentos são as colunas pelas quais serão ordenadas as linhas. Nesse exemplo, são ordenadas as linhas por *ordem crescente* da massa corporal dos pinguins.


```r
arrange(pinguins, body_mass_g)
```

```
## # A tibble: 344 × 8
##    species   island   bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;     &lt;chr&gt;             &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Chinstrap Dream              46.9          16.6               192        2700
##  2 Adelie    Biscoe             36.5          16.6               181        2850
##  3 Adelie    Biscoe             36.4          17.1               184        2850
##  4 Adelie    Biscoe             34.5          18.1               187        2900
##  5 Adelie    Dream              33.1          16.1               178        2900
##  6 Adelie    Torgers…           38.6          17                 188        2900
##  7 Chinstrap Dream              43.2          16.6               187        2900
##  8 Adelie    Biscoe             37.9          18.6               193        2925
##  9 Adelie    Dream              37.5          18.9               179        2975
## 10 Adelie    Dream              37            16.9               185        3000
## # ℹ 334 more rows
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Ordenando linhas: &amp;nbsp; `arrange()`

É possível ordenar de forma decrescente usando a função `desc()` como argumento da função `arrange()`. Aqui, são ordenadas as linhas da base por *ordem decrescente* da massa corporal dos pinguins.


```r
arrange(pinguins, desc(body_mass_g))
```

```
## # A tibble: 344 × 8
##    species island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Gentoo  Biscoe           49.2          15.2               221        6300
##  2 Gentoo  Biscoe           59.6          17                 230        6050
##  3 Gentoo  Biscoe           51.1          16.3               220        6000
##  4 Gentoo  Biscoe           48.8          16.2               222        6000
##  5 Gentoo  Biscoe           45.2          16.4               223        5950
##  6 Gentoo  Biscoe           49.8          15.9               229        5950
##  7 Gentoo  Biscoe           48.4          14.6               213        5850
##  8 Gentoo  Biscoe           49.3          15.7               217        5850
##  9 Gentoo  Biscoe           55.1          16                 230        5850
## 10 Gentoo  Biscoe           49.5          16.2               229        5800
## # ℹ 334 more rows
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Ordenando linhas: &amp;nbsp; `arrange()`

Também é possível ordenar segundo duas ou mais colunas. Por exemplo, as linhas da base serão ordenadas de forma decrescente para o comprimento do bico e crescente para a profundidade do bico dos pinguins.


```r
arrange(pinguins, desc(bill_length_mm), bill_depth_mm)
```

```
## # A tibble: 344 × 8
##    species   island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Gentoo    Biscoe           59.6          17                 230        6050
##  2 Chinstrap Dream            58            17.8               181        3700
##  3 Gentoo    Biscoe           55.9          17                 228        5600
##  4 Chinstrap Dream            55.8          19.8               207        4000
##  5 Gentoo    Biscoe           55.1          16                 230        5850
##  6 Gentoo    Biscoe           54.3          15.7               231        5650
##  7 Chinstrap Dream            54.2          20.8               201        4300
##  8 Chinstrap Dream            53.5          19.9               205        4500
##  9 Gentoo    Biscoe           53.4          15.8               219        5500
## 10 Chinstrap Dream            52.8          20                 205        4550
## # ℹ 334 more rows
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Aplicando mais de uma função

Na maioria dos casos, é aplicado mais de uma função na manipulação de uma base. Por exemplo, pode-se querer uma tabela apenas com a espécie dos pinguins e a massa corporal ordenada crescentemente.


```r
arrange(select(pinguins, species, body_mass_g), body_mass_g)
```

A solução para aplicar diversas operações é utilizar o operador `pipe`: `%&gt;%`


```r
pinguins %&gt;% 
  select(species, body_mass_g) %&gt;% 
  arrange(body_mass_g)
```

O que está acontecendo no código com o `pipe`? Da primeira para a segunda linha, aplicamos a função `select()` à base "pinguins". Da segunda para a terceira linha, utilizamos a função `arrange()` à base resultante da função `select()`.

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Filtrando linhas: &amp;nbsp; `filter()`

Filtra valores (linhas) de uma coluna da base. Aqui, foram filtradas as linhas que possuem comprimento da nadadeira superior à 140 mm.


```r
filter(pinguins, flipper_length_mm &gt; 140)
```

```
## # A tibble: 342 × 8
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           36.7          19.3               193        3450
##  5 Adelie  Torgersen           39.3          20.6               190        3650
##  6 Adelie  Torgersen           38.9          17.8               181        3625
##  7 Adelie  Torgersen           39.2          19.6               195        4675
##  8 Adelie  Torgersen           34.1          18.1               193        3475
##  9 Adelie  Torgersen           42            20.2               190        4250
## 10 Adelie  Torgersen           37.8          17.1               186        3300
## # ℹ 332 more rows
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Filtrando linhas: &amp;nbsp; `filter()`

É possível selecionar apenas as colunas da espécie e do comprimento da nadadeira, filtrando apenas aqueles com comprimento de nadadeira superior a 140 mm.


```r
pinguins %&gt;% 
  select(species, flipper_length_mm) %&gt;% 
  filter(flipper_length_mm &gt; 140)
```

```
## # A tibble: 342 × 2
##    species flipper_length_mm
##    &lt;chr&gt;               &lt;dbl&gt;
##  1 Adelie                181
##  2 Adelie                186
##  3 Adelie                195
##  4 Adelie                193
##  5 Adelie                190
##  6 Adelie                181
##  7 Adelie                195
##  8 Adelie                193
##  9 Adelie                190
## 10 Adelie                186
## # ℹ 332 more rows
```


&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Filtrando linhas: &amp;nbsp; `filter()`

Estendendo o filtro para duas ou mais colunas. Para isso, cada operação é separada por uma vírgula. O código abaixo retorna uma tabela com todos os pinguins da ilha de Torgersen com profundidade de bico maior que 15 mm.


```r
pinguins %&gt;% 
  filter(island == "Torgersen", bill_depth_mm &gt; 15)
```

```
## # A tibble: 51 × 8
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           36.7          19.3               193        3450
##  5 Adelie  Torgersen           39.3          20.6               190        3650
##  6 Adelie  Torgersen           38.9          17.8               181        3625
##  7 Adelie  Torgersen           39.2          19.6               195        4675
##  8 Adelie  Torgersen           34.1          18.1               193        3475
##  9 Adelie  Torgersen           42            20.2               190        4250
## 10 Adelie  Torgersen           37.8          17.1               186        3300
## # ℹ 41 more rows
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Filtrando linhas: &amp;nbsp; `filter()`

Também é possível realizar operações com as colunas da base dentro da função `filter()`. No exemplo abaixo, é devolvido uma tabela com os pinguins que possuem massa corporal maior que a média da massa corporal.


```r
pinguins %&gt;% 
  filter(body_mass_g &gt; mean(body_mass_g, na.rm = TRUE))
```

```
## # A tibble: 149 × 8
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie  Torgersen           39.2          19.6               195        4675
##  2 Adelie  Torgersen           42            20.2               190        4250
##  3 Adelie  Torgersen           34.6          21.1               198        4400
##  4 Adelie  Torgersen           42.5          20.7               197        4500
##  5 Adelie  Dream               39.8          19.1               184        4650
##  6 Adelie  Dream               44.1          19.7               196        4400
##  7 Adelie  Dream               39.6          18.8               190        4600
##  8 Adelie  Biscoe              40.1          18.9               188        4300
##  9 Adelie  Biscoe              41.3          21.1               195        4400
## 10 Adelie  Torgersen           41.8          19.4               198        4450
## # ℹ 139 more rows
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Criando novas colunas: &amp;nbsp; `mutate()`

Utilizado para modificar uma coluna já existente ou para criar uma nova coluna. O código a seguir divide os valores da coluna `bill_length_mm` por 10, alterando a unidade de medida dessa variável de milímetros (mm) para centímetros (cm).


```r
pinguins %&gt;% 
  mutate(bill_length_mm = bill_length_mm/10)
```

```
## # A tibble: 344 × 8
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie  Torgersen           3.91          18.7               181        3750
##  2 Adelie  Torgersen           3.95          17.4               186        3800
##  3 Adelie  Torgersen           4.03          18                 195        3250
##  4 Adelie  Torgersen          NA             NA                  NA          NA
##  5 Adelie  Torgersen           3.67          19.3               193        3450
##  6 Adelie  Torgersen           3.93          20.6               190        3650
##  7 Adelie  Torgersen           3.89          17.8               181        3625
##  8 Adelie  Torgersen           3.92          19.6               195        4675
##  9 Adelie  Torgersen           3.41          18.1               193        3475
## 10 Adelie  Torgersen           4.2           20.2               190        4250
## # ℹ 334 more rows
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Criando novas colunas: &amp;nbsp; `mutate()`

Também é possível criar a variável anterior em uma nova coluna, mantendo a variável original. A coluna `bill_length_cm` é colocada no final da tabela.


```r
pinguins %&gt;% 
  mutate(bill_length_cm = bill_length_mm/10)
```

```
## # A tibble: 344 × 9
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           NA            NA                  NA          NA
##  5 Adelie  Torgersen           36.7          19.3               193        3450
##  6 Adelie  Torgersen           39.3          20.6               190        3650
##  7 Adelie  Torgersen           38.9          17.8               181        3625
##  8 Adelie  Torgersen           39.2          19.6               195        4675
##  9 Adelie  Torgersen           34.1          18.1               193        3475
## 10 Adelie  Torgersen           42            20.2               190        4250
## # ℹ 334 more rows
## # ℹ 3 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;, bill_length_cm &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Criando novas colunas: &amp;nbsp; `mutate()`

Podemos realizar qualquer operação com uma ou mais colunas. A única regra é que o resultado da operação devolva um vetor com comprimento exatamente igual ao número de linhas da base (ou com comprimento 1 pra distribuir o mesmo valor em todas as linhas). Também é possível criar/modificar quantas colunas quiser dentro de um mesmo `mutate()`.


```r
pinguins %&gt;% 
  mutate(
    mean_bill_length_mm = mean(bill_length_mm, na.rm = TRUE),
    country = "Antarctica"
  ) %&gt;% 
  select(species, mean_bill_length_mm, country)
```

```
## # A tibble: 344 × 3
##    species mean_bill_length_mm country   
##    &lt;chr&gt;                 &lt;dbl&gt; &lt;chr&gt;     
##  1 Adelie                 43.9 Antarctica
##  2 Adelie                 43.9 Antarctica
##  3 Adelie                 43.9 Antarctica
##  4 Adelie                 43.9 Antarctica
##  5 Adelie                 43.9 Antarctica
##  6 Adelie                 43.9 Antarctica
##  7 Adelie                 43.9 Antarctica
##  8 Adelie                 43.9 Antarctica
##  9 Adelie                 43.9 Antarctica
## 10 Adelie                 43.9 Antarctica
## # ℹ 334 more rows
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Sumarizando colunas: &amp;nbsp; `summarise()`

Sumarização é a técnica de resumir um conjunto de dados utilizando alguma métrica de interesse. A média, a mediana, a variância, a frequência e a proporção, por exemplo, são tipos de sumarização que trazem diferentes informações sobre uma variável. O código abaixo resume a coluna massa corporal pela sua média.


```r
pinguins %&gt;% 
  summarise(mean_body_mass_g = mean(body_mass_g, na.rm = TRUE))
```

```
## # A tibble: 1 × 1
##   mean_body_mass_g
##              &lt;dbl&gt;
## 1            4202.
```

&lt;div class="my-footer"&gt;Também pode ser usado a função &lt;code&gt;summarize()&lt;/code&gt;.&lt;/div&gt;

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Sumarizando colunas: &amp;nbsp; `summarise()`

Diversas sumarizações diferentes podem ser realizadas em um mesmo `summarise()`. Cada sumarização (resumo) será uma coluna da nova base.


```r
pinguins %&gt;% 
  summarise(
    mean_flipper_length_mm = mean(flipper_length_mm, na.rm = TRUE),
    median_flipper_length_mm = median(flipper_length_mm, na.rm = TRUE),
    var_flipper_length_mm = var(flipper_length_mm, na.rm = TRUE)
  )
```

```
## # A tibble: 1 × 3
##   mean_flipper_length_mm median_flipper_length_mm var_flipper_length_mm
##                    &lt;dbl&gt;                    &lt;dbl&gt;                 &lt;dbl&gt;
## 1                   201.                      197                  198.
```

&lt;div class="my-footer"&gt;Também pode ser usado a função &lt;code&gt;summarize()&lt;/code&gt;.&lt;/div&gt;

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Sumarizando colunas: &amp;nbsp; `summarise()`

Também é possível sumarizar (resumir) colunas diferentes.


```r
pinguins %&gt;% 
  summarise(
    mean_flipper_length_mm = mean(flipper_length_mm, na.rm = TRUE),
    mean_bill_length_mm = mean(bill_length_mm, na.rm = TRUE),
    mean_bill_depth_mm = median(bill_depth_mm, na.rm = TRUE)
  )
```

```
## # A tibble: 1 × 3
##   mean_flipper_length_mm mean_bill_length_mm mean_bill_depth_mm
##                    &lt;dbl&gt;               &lt;dbl&gt;              &lt;dbl&gt;
## 1                   201.                43.9               17.3
```

&lt;div class="my-footer"&gt;Também pode ser usado a função &lt;code&gt;summarize()&lt;/code&gt;.&lt;/div&gt;

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Sumarizando colunas agrupadas

Em muitas ocasiões, é preciso sumarizar uma coluna agrupada por categorias de uma segunda coluna. Para isso, além do `summarise()`, também é utilizado a função `group_by()`.

O código abaixo calcula a média da massa corporal para cada categoria da coluna "ilha".


```r
pinguins %&gt;% 
  group_by(island) %&gt;% 
  summarise(
    mean_body_mass_g = mean(body_mass_g, na.rm = TRUE)
  ) %&gt;% 
  arrange(desc(mean_body_mass_g))
```

```
## # A tibble: 3 × 2
##   island    mean_body_mass_g
##   &lt;chr&gt;                &lt;dbl&gt;
## 1 Biscoe               4716.
## 2 Dream                3713.
## 3 Torgersen            3706.
```

&lt;div class="my-footer"&gt;Também pode ser usado a função &lt;code&gt;summarize()&lt;/code&gt;.&lt;/div&gt;

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Sumarizando colunas agrupadas: &amp;nbsp; `group_by()`

A única alteração que a função `group_by()` faz na base é a marcação de que a base está agrupada.


```r
pinguins %&gt;% 
  group_by(island)
```

```
## # A tibble: 344 × 8
## # Groups:   island [3]
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           NA            NA                  NA          NA
##  5 Adelie  Torgersen           36.7          19.3               193        3450
##  6 Adelie  Torgersen           39.3          20.6               190        3650
##  7 Adelie  Torgersen           38.9          17.8               181        3625
##  8 Adelie  Torgersen           39.2          19.6               195        4675
##  9 Adelie  Torgersen           34.1          18.1               193        3475
## 10 Adelie  Torgersen           42            20.2               190        4250
## # ℹ 334 more rows
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://curso-r.github.io/main-r4ds-1/slides/04-manipulacao.html"&gt;Curso-R&lt;/a&gt;&lt;/div&gt;

---

### Ordenando colunas:  &amp;nbsp;  `relocate()`

Reordena as colunas por nome ou posição. Nesse caso, a função `relocate()` alterou a posição das colunas sexo e ano para depois da coluna ilha.


```r
pinguins %&gt;% 
  relocate(sex, year, .after = island)
```

```
## # A tibble: 344 × 8
##    species island    sex     year bill_length_mm bill_depth_mm flipper_length_mm
##    &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;          &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;
##  1 Adelie  Torgersen male    2007           39.1          18.7               181
##  2 Adelie  Torgersen female  2007           39.5          17.4               186
##  3 Adelie  Torgersen female  2007           40.3          18                 195
##  4 Adelie  Torgersen &lt;NA&gt;    2007           NA            NA                  NA
##  5 Adelie  Torgersen female  2007           36.7          19.3               193
##  6 Adelie  Torgersen male    2007           39.3          20.6               190
##  7 Adelie  Torgersen female  2007           38.9          17.8               181
##  8 Adelie  Torgersen male    2007           39.2          19.6               195
##  9 Adelie  Torgersen &lt;NA&gt;    2007           34.1          18.1               193
## 10 Adelie  Torgersen &lt;NA&gt;    2007           42            20.2               190
## # ℹ 334 more rows
## # ℹ 1 more variable: body_mass_g &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Renomeando colunas: &amp;nbsp; `rename()`

Renomeia as colunas de uma tabela. O primeiro argumento da função `rename()` corresponde ao nome que se deseja colocar na coluna, e o segundo argumento é o nome atual da coluna.


```r
pinguins %&gt;% 
  rename(
    comprimento_bico_mm = bill_length_mm,
    profundidade_bico_mm = bill_depth_mm,
    comprimento_nadadeira_mm = flipper_length_mm,
    massa_corporal_g = body_mass_g
  )
```

```
## # A tibble: 344 × 8
##    species island    comprimento_bico_mm profundidade_bico_mm
##    &lt;chr&gt;   &lt;chr&gt;                   &lt;dbl&gt;                &lt;dbl&gt;
##  1 Adelie  Torgersen                39.1                 18.7
##  2 Adelie  Torgersen                39.5                 17.4
##  3 Adelie  Torgersen                40.3                 18  
##  4 Adelie  Torgersen                NA                   NA  
##  5 Adelie  Torgersen                36.7                 19.3
##  6 Adelie  Torgersen                39.3                 20.6
##  7 Adelie  Torgersen                38.9                 17.8
##  8 Adelie  Torgersen                39.2                 19.6
##  9 Adelie  Torgersen                34.1                 18.1
## 10 Adelie  Torgersen                42                   20.2
## # ℹ 334 more rows
## # ℹ 4 more variables: comprimento_nadadeira_mm &lt;dbl&gt;, massa_corporal_g &lt;dbl&gt;,
## #   sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Selecionando linhas: &amp;nbsp; `slice_head()`

Seleciona as primeiras linhas da tabela. O argumento `n =` indica a quantidade de linhas selecionadas.


```r
pinguins %&gt;% 
  slice_head(n = 8)
```

```
## # A tibble: 8 × 8
##   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##   &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
## 1 Adelie  Torgersen           39.1          18.7               181        3750
## 2 Adelie  Torgersen           39.5          17.4               186        3800
## 3 Adelie  Torgersen           40.3          18                 195        3250
## 4 Adelie  Torgersen           NA            NA                  NA          NA
## 5 Adelie  Torgersen           36.7          19.3               193        3450
## 6 Adelie  Torgersen           39.3          20.6               190        3650
## 7 Adelie  Torgersen           38.9          17.8               181        3625
## 8 Adelie  Torgersen           39.2          19.6               195        4675
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Selecionando linhas: &amp;nbsp; `slice_max()`

Seleciona linhas por valores de uma coluna. O argumento `n =` retorna o número de linhas +1; se o `n =` não for informado, retorna apenas 1 linha.


```r
pinguins %&gt;% 
  slice_max(bill_depth_mm, n = 5)
```

```
## # A tibble: 6 × 8
##   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##   &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
## 1 Adelie  Torgersen           46            21.5               194        4200
## 2 Adelie  Torgersen           38.6          21.2               191        3800
## 3 Adelie  Dream               42.3          21.2               191        4150
## 4 Adelie  Torgersen           34.6          21.1               198        4400
## 5 Adelie  Dream               39.2          21.1               196        4150
## 6 Adelie  Biscoe              41.3          21.1               195        4400
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Selecionando linhas: &amp;nbsp; `slice_sample()`

Seleciona as linhas aleatoriamente. O argumento `n =` retorna a quantidade de linhas.


```r
pinguins %&gt;% 
  slice_sample(n = 12)
```

```
## # A tibble: 12 × 8
##    species   island   bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;     &lt;chr&gt;             &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie    Biscoe             41.1          19.1               188        4100
##  2 Adelie    Dream              38.8          20                 190        3950
##  3 Chinstrap Dream              46.2          17.5               187        3650
##  4 Adelie    Torgers…           38.6          17                 188        2900
##  5 Gentoo    Biscoe             48.7          15.7               208        5350
##  6 Chinstrap Dream              53.5          19.9               205        4500
##  7 Chinstrap Dream              50.9          17.9               196        3675
##  8 Chinstrap Dream              45.7          17                 195        3650
##  9 Chinstrap Dream              47.5          16.8               199        3900
## 10 Chinstrap Dream              42.4          17.3               181        3600
## 11 Chinstrap Dream              46.8          16.5               189        3650
## 12 Gentoo    Biscoe             43.3          14                 208        4575
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Limpando a tabela: &amp;nbsp; `distinct()`

Retira as linhas com valores duplicados com base nos valores das colunas, mas mantendo as colunas.


```r
pinguins %&gt;% 
  distinct(body_mass_g, .keep_all = TRUE)
```

```
## # A tibble: 95 × 8
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           NA            NA                  NA          NA
##  5 Adelie  Torgersen           36.7          19.3               193        3450
##  6 Adelie  Torgersen           39.3          20.6               190        3650
##  7 Adelie  Torgersen           38.9          17.8               181        3625
##  8 Adelie  Torgersen           39.2          19.6               195        4675
##  9 Adelie  Torgersen           34.1          18.1               193        3475
## 10 Adelie  Torgersen           42            20.2               190        4250
## # ℹ 85 more rows
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Contando valores: &amp;nbsp; `count()`

Conta valores de uma tabela, geralmente para variáveis categóricas


```r
pinguins %&gt;% 
  count(species)
```

```
## # A tibble: 3 × 2
##   species       n
##   &lt;chr&gt;     &lt;int&gt;
## 1 Adelie      152
## 2 Chinstrap    68
## 3 Gentoo      124
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Contando valores: &amp;nbsp; `count()`

Conta valores de mais de uma coluna, geralmente para variáveis categóricas


```r
pinguins %&gt;% 
  count(species, island)
```

```
## # A tibble: 5 × 3
##   species   island        n
##   &lt;chr&gt;     &lt;chr&gt;     &lt;int&gt;
## 1 Adelie    Biscoe       44
## 2 Adelie    Dream        56
## 3 Adelie    Torgersen    52
## 4 Chinstrap Dream        68
## 5 Gentoo    Biscoe      124
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Combinando dados: &amp;nbsp; `bind_rows()`

Combina dados por linhas.


```r
# selecionar as linhas para dois tibbles
pinguins_01 &lt;- slice(pinguins, 1:5) %&gt;% select(1:3)
pinguins_02 &lt;- slice(pinguins, 51:55) %&gt;% select(4:6)

# combinar as linhas
bind_rows(pinguins_01, pinguins_02, .id = "id")
```

```
## # A tibble: 10 × 7
##    id    species island    bill_length_mm bill_depth_mm flipper_length_mm
##    &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;
##  1 1     Adelie  Torgersen           39.1          NA                  NA
##  2 1     Adelie  Torgersen           39.5          NA                  NA
##  3 1     Adelie  Torgersen           40.3          NA                  NA
##  4 1     Adelie  Torgersen           NA            NA                  NA
##  5 1     Adelie  Torgersen           36.7          NA                  NA
##  6 2     &lt;NA&gt;    &lt;NA&gt;                NA            17.7               186
##  7 2     &lt;NA&gt;    &lt;NA&gt;                NA            18.9               188
##  8 2     &lt;NA&gt;    &lt;NA&gt;                NA            17.9               190
##  9 2     &lt;NA&gt;    &lt;NA&gt;                NA            19.5               200
## 10 2     &lt;NA&gt;    &lt;NA&gt;                NA            18.1               187
## # ℹ 1 more variable: body_mass_g &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Combinando dados: &amp;nbsp; `bind_cols()`

Combina dados por colunas.


```r
# selecionar as linhas para dois tibbles
pinguins_01 &lt;- slice(pinguins, 1:5)
pinguins_02 &lt;- slice(pinguins, 51:55)

## combinar as colunas
bind_cols(pinguins_01, pinguins_02, .name_repair = "unique")
```

```
## # A tibble: 5 × 16
##   species...1 island...2 bill_length_mm...3 bill_depth_mm...4
##   &lt;chr&gt;       &lt;chr&gt;                   &lt;dbl&gt;             &lt;dbl&gt;
## 1 Adelie      Torgersen                39.1              18.7
## 2 Adelie      Torgersen                39.5              17.4
## 3 Adelie      Torgersen                40.3              18  
## 4 Adelie      Torgersen                NA                NA  
## 5 Adelie      Torgersen                36.7              19.3
## # ℹ 12 more variables: flipper_length_mm...5 &lt;dbl&gt;, body_mass_g...6 &lt;dbl&gt;,
## #   sex...7 &lt;chr&gt;, year...8 &lt;dbl&gt;, species...9 &lt;chr&gt;, island...10 &lt;chr&gt;,
## #   bill_length_mm...11 &lt;dbl&gt;, bill_depth_mm...12 &lt;dbl&gt;,
## #   flipper_length_mm...13 &lt;dbl&gt;, body_mass_g...14 &lt;dbl&gt;, sex...15 &lt;chr&gt;,
## #   year...16 &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Unindo bases: &amp;nbsp; `*_join()`

Combina pares de dados tabulares por uma ou mais chaves.

.left-column[
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;img src="img/slides/42-joins.png" width="100%" /&gt;

] 

.right-column[

&lt;b&gt;Junção de mutação&lt;/b&gt;

- `left_join(x, y)`: mantém as observações em x
- `right_join(x, y)`: mantém as observações em y
- `inner_join(x, y)`: mantém apenas as observações em x e em y
- `full_join(x, y)`: mantém todas as observações em x e em y

&lt;b&gt;Junção de filtragem&lt;/b&gt;

- `semi_join(x, y)`: mantém as observações em x que têm uma correspondência em y
- `anti_join(x, y)`: elimina as observações em x que têm uma correspondência em y

]

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Unindo bases: &amp;nbsp; `*_join()`

.pull-left[

&lt;img src="img/slides/38-left-join.gif" width="85%" /&gt;


&lt;img src="img/slides/40-inner-join.gif" width="85%" /&gt;

]

.pull-right[

&lt;img src="img/slides/39-right-join.gif" width="85%" /&gt;


&lt;img src="img/slides/41-full-join.gif" width="85%" /&gt;


]

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Unindo bases: &amp;nbsp; `*_join()`

Cria uma tabela com a longitude e a latitude das ilhas da tabela `pinguins`.


```r
## coordenadas
pinguins_ilhas &lt;- tibble(
  ilha = c("Torgersen", "Biscoe", "Dream", "Alpha"),
  longitude = c(-64.083333, -63.775636, -64.233333, -63),
  latitude = c(-64.766667, -64.818569, -64.733333, -64.316667))

pinguins_ilhas
```

```
## # A tibble: 4 × 3
##   ilha      longitude latitude
##   &lt;chr&gt;         &lt;dbl&gt;    &lt;dbl&gt;
## 1 Torgersen     -64.1    -64.8
## 2 Biscoe        -63.8    -64.8
## 3 Dream         -64.2    -64.7
## 4 Alpha         -63      -64.3
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Unindo bases: &amp;nbsp; `left_join()`

Agora, une as tabelas `pinguins` e `pinguins_ilhas`. A tabela final será a tabela original (`pinguins`), acrescida da tabela com os dados de latitude e longitude das ilhas (`pinguins_ilhas`).


```r
pinguins_left_join &lt;- left_join(
  pinguins, pinguins_ilhas, by = c("island" = "ilha")
)
glimpse(pinguins_left_join)
```

```
## Rows: 344
## Columns: 10
## $ species           &lt;chr&gt; "Adelie", "Adelie", "Adelie", "Adelie", "Adelie", "A…
## $ island            &lt;chr&gt; "Torgersen", "Torgersen", "Torgersen", "Torgersen", …
## $ bill_length_mm    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …
## $ bill_depth_mm     &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …
## $ flipper_length_mm &lt;dbl&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…
## $ body_mass_g       &lt;dbl&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …
## $ sex               &lt;chr&gt; "male", "female", "female", NA, "female", "male", "f…
## $ year              &lt;dbl&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…
## $ longitude         &lt;dbl&gt; -64.08333, -64.08333, -64.08333, -64.08333, -64.0833…
## $ latitude          &lt;dbl&gt; -64.76667, -64.76667, -64.76667, -64.76667, -64.7666…
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Operações de conjuntos e comparações de dados

.pull-left[

&lt;b&gt;&lt;font size = 5&gt;Operações para comparar dos dados:&lt;/font&gt;&lt;/b&gt;

- `union(x, y)`: retorna todas as linhas que aparecem em x, y ou mais dos conjuntos de dados
- `interesect(x, y)`: retorna apenas as linhas que aparecem em x e em y
- `setdiff(x, y)`: retorna as linhas que aparecem x, mas não em y
- `setequal(x, y)`: retorna se x e y são iguais e quais suas diferenças

]

.pull-right[
&lt;br&gt;
&lt;br&gt;
&lt;img src="img/slides/43-operacoes.png" width="85%" /&gt;

]

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt; e &lt;a href="https://rpubs.com/williamsurles/293454"&gt;William Surles&lt;/a&gt;&lt;/div&gt;

---

### Pacote &amp;nbsp; `tidyr`

**Tidy data:**

&lt;img src="img/slides/23-tidy-data.png" width="100%" style="display: block; margin: auto;" /&gt;

Dados organizados são uma forma padrão de mapear o significado de um conjunto de dados em sua estrutura. Em dados organizados:

- cada coluna é uma variável;

- cada linha é uma observação;

- cada célula é um único valor.

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://bookdown.org/bruno_lucian_costa/CursoIntermediarioR/"&gt;Análise de Dados em R - Nível Intermediário&lt;/a&gt;&lt;/div&gt;

---

### Pacote &amp;nbsp; `tidyr`

O pacote `tidyr` tem a função de tornar um conjunto de dados tidy (organizados), sendo esses fáceis de manipular, modelar e visualizar.

Um conjunto de dados está arrumado ou não, dependendo de como linhas, colunas e células são combinadas com observações, variáveis e valores.

As principais funções do `tidyr` são:

- `unite()`: junta dados de múltiplas colunas em uma
- `separate()`: separa caracteres em múlplica colunas
- `separate_rows()`: separa caracteres em múlplica colunas e linhas
- `drop_na()`: retira linhas com NA
- `replace_na()`: substitui NA
- `pivot_wider()`: long para wide
- `pivot_longer()`: wide para long

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt;&lt;/div&gt;

---

### [Cheat Sheets](https://posit.co/resources/cheatsheets/) 

[![Cheat Sheets](img/slides/50-cheatsheet-tidyr.png)](https://posit.co/resources/cheatsheets/)

---

### União de colunas: &amp;nbsp; `unite()`

Une duas colunas em uma única coluna.


```r
especie_ilha &lt;- pinguins %&gt;% 
  unite(
    col = "especie_ilha", 
    species:island, 
    sep = " - "
  ) 

head(especie_ilha)
```

```
## # A tibble: 6 × 7
##   especie_ilha  bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex  
##   &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;
## 1 Adelie - Tor…           39.1          18.7               181        3750 male 
## 2 Adelie - Tor…           39.5          17.4               186        3800 fema…
## 3 Adelie - Tor…           40.3          18                 195        3250 fema…
## 4 Adelie - Tor…           NA            NA                  NA          NA &lt;NA&gt; 
## 5 Adelie - Tor…           36.7          19.3               193        3450 fema…
## 6 Adelie - Tor…           39.3          20.6               190        3650 male 
## # ℹ 1 more variable: year &lt;dbl&gt;
```


&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt;&lt;/div&gt;

---

### Separação de colunas: &amp;nbsp; `separate()`

Separa uma coluna em duas ou mais colunas.



```r
especie_ilha %&gt;% 
  separate(
    col = especie_ilha, into = c("especie", "ilha"), sep = " - ",
  )
```

```
## # A tibble: 344 × 8
##    especie ilha      bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           NA            NA                  NA          NA
##  5 Adelie  Torgersen           36.7          19.3               193        3450
##  6 Adelie  Torgersen           39.3          20.6               190        3650
##  7 Adelie  Torgersen           38.9          17.8               181        3625
##  8 Adelie  Torgersen           39.2          19.6               195        4675
##  9 Adelie  Torgersen           34.1          18.1               193        3475
## 10 Adelie  Torgersen           42            20.2               190        4250
## # ℹ 334 more rows
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```


&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt;&lt;/div&gt;

---

### Remove NAs: &amp;nbsp; `drop_na()`

Remove as linhas que contém `NA` de todas as colunas.


```r
pinguins %&gt;% 
  drop_na()
```

```
## # A tibble: 333 × 8
##    species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##    &lt;chr&gt;   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 Adelie  Torgersen           39.1          18.7               181        3750
##  2 Adelie  Torgersen           39.5          17.4               186        3800
##  3 Adelie  Torgersen           40.3          18                 195        3250
##  4 Adelie  Torgersen           36.7          19.3               193        3450
##  5 Adelie  Torgersen           39.3          20.6               190        3650
##  6 Adelie  Torgersen           38.9          17.8               181        3625
##  7 Adelie  Torgersen           39.2          19.6               195        4675
##  8 Adelie  Torgersen           41.1          17.6               182        3200
##  9 Adelie  Torgersen           38.6          21.2               191        3800
## 10 Adelie  Torgersen           34.6          21.1               198        4400
## # ℹ 323 more rows
## # ℹ 2 more variables: sex &lt;chr&gt;, year &lt;dbl&gt;
```


&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt;&lt;/div&gt;

---

### Pivotar os dados: &amp;nbsp; `pivot_*()`

.pull-left[

**`pivot_longer()`:** torna os conjuntos de dados mais longos, aumentando o número de linhas e diminuindo o número de colunas. É comumente necessário para organizar conjuntos de dados capturados de forma 'selvagem', pois as tabelas, geralmente, são desenvolvidas para facilitar a entrada de dados ou facilitar a comparação, em vez de propiciar uma análise. 

**`pivot_wider()`:** torna um conjunto de dados mais amplo aumentando o número de colunas e diminuindo o número de linhas. É relativamente raro utilizar o `pivot_wider()` em dados organizados, mas pode ser útil na

]

.pull-right[

&lt;img src="img/slides/45-original-dfs-tidy.png" width="100%" style="display: block; margin: auto;" /&gt;

criação de tabelas de resumo para apresentação ou dados em um formato necessário para outras ferramentas.

]


&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt;&lt;/div&gt;

---

### Larga para longa: &amp;nbsp; `pivot_longer()`

***Wide* para *Long*:** o banco de dados se torna mais longo (`longer`) em relação aos dados originais. Os principais argumentos da função `pivot_longer()` são:

1. &lt;b&gt;cols:&lt;/b&gt; colunas para girar em formato mais longo
2. &lt;b&gt;names_to:&lt;/b&gt; nome da coluna que receberá os nomes
3. &lt;b&gt;values_to:&lt;/b&gt; nome da coluna que receberá os valores


```r
pivot_longer(data = pinguins_raw[, c(2, 3, 10:13)],
             cols = `Culmen Length (mm)`:`Body Mass (g)`,
             names_to = "medidas",
             values_to = "valores")
```

```
## # A tibble: 1,376 × 4
##    `Sample Number` Species                             medidas           valores
##              &lt;dbl&gt; &lt;chr&gt;                               &lt;chr&gt;               &lt;dbl&gt;
##  1               1 Adelie Penguin (Pygoscelis adeliae) Culmen Length (m…    39.1
##  2               1 Adelie Penguin (Pygoscelis adeliae) Culmen Depth (mm)    18.7
##  3               1 Adelie Penguin (Pygoscelis adeliae) Flipper Length (…   181  
##  4               1 Adelie Penguin (Pygoscelis adeliae) Body Mass (g)      3750  
##  5               2 Adelie Penguin (Pygoscelis adeliae) Culmen Length (m…    39.5
##  6               2 Adelie Penguin (Pygoscelis adeliae) Culmen Depth (mm)    17.4
##  7               2 Adelie Penguin (Pygoscelis adeliae) Flipper Length (…   186  
##  8               2 Adelie Penguin (Pygoscelis adeliae) Body Mass (g)      3800  
##  9               3 Adelie Penguin (Pygoscelis adeliae) Culmen Length (m…    40.3
## 10               3 Adelie Penguin (Pygoscelis adeliae) Culmen Depth (mm)    18  
## # ℹ 1,366 more rows
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt;&lt;/div&gt;

---

### Longa para larga: &amp;nbsp; `pivot_wider()`

***Long* para *Wide*:** o banco de dados se torna mais largo (`wider`) em relação aos dados originais. Os principais argumentos da função `pivot_wider()` são:

1. &lt;b&gt;names_from:&lt;/b&gt; variável categórica que definirá os nomes das colunas
2. &lt;b&gt;values_from:&lt;/b&gt; variável numérica que preencherá os dados
3. &lt;b&gt;values_fill:&lt;/b&gt; valor para preencher os NAs


```r
pivot_wider(
  data = pinguins_raw[, c(2, 3, 13)],
  names_from = Species,
  values_from = `Body Mass (g)`
)
```

```
## # A tibble: 152 × 4
##    `Sample Number` `Adelie Penguin (Pygoscelis adeliae)` Gentoo penguin (Pygos…¹
##              &lt;dbl&gt;                                 &lt;dbl&gt;                   &lt;dbl&gt;
##  1               1                                  3750                    4500
##  2               2                                  3800                    5700
##  3               3                                  3250                    4450
##  4               4                                    NA                    5700
##  5               5                                  3450                    5400
##  6               6                                  3650                    4550
##  7               7                                  3625                    4800
##  8               8                                  4675                    5200
##  9               9                                  3475                    4400
## 10              10                                  4250                    5150
## # ℹ 142 more rows
## # ℹ abbreviated name: ¹​`Gentoo penguin (Pygoscelis papua)`
## # ℹ 1 more variable: `Chinstrap penguin (Pygoscelis antarctica)` &lt;dbl&gt;
```

&lt;div class="my-header"&gt;Fonte: &lt;a href="https://mauriciovancine.github.io/course-geospatial-data-r/01_slides/04_slides_intro_geoespacial_r.html#1"&gt;Maurício H. Vancine&lt;/a&gt;&lt;/div&gt;

---

# Obrigada!

.pull-left[

&lt;img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNjFlNDgyOTRhMTk5MGE4ZTNmNjg5ZWMzM2NlZDU3ODBmZDU0OGFiNiZlcD12MV9pbnRlcm5hbF9naWZzX2dpZklkJmN0PWc/M9NbzZjAcxq9jS9LZJ/giphy.gif" width="65%" style="display: block; margin: auto;" /&gt;

.center[Agradecimento especial à [Curso-R](https://curso-r.com/) e ao [Maurício Vancine](https://mauriciovancine.github.io/) pelos materiais.]

.center[Slides criados usando os pacotes em R:]
.center[[**xaringan**](https://github.com/yihui/xaringan)]
.center[[**xaringanthemer**](https://github.com/gadenbuie/xaringanthemer)]

.center[O chakra vem da biblioteca JavaScript [remark.js](https://remarkjs.com), [**knitr**](http://yihui.name/knitr), and [R Markdown](https://rmarkdown.rstudio.com).]
]

.pull-right[

&lt;img src="img/slides/19-luisa.jpg" width="55%" style="display: block; margin: auto;" /&gt;

.center[&lt;i class="fas fa-home"&gt;&lt;/i&gt; [luisa.rbind.io](https://luisa.rbind.io/)]

.center[&lt;i class="fab fa-twitter"&gt;&lt;/i&gt; [@lgiselebock](https://twitter.com/lgiselebock)]

.center[&lt;i class="fab fa-github"&gt;&lt;/i&gt; [@lgiselebock](https://github.com/lgiselebock/)]

.center[&lt;i class="far fa-envelope"&gt;&lt;/i&gt; [luisa.bock@acad.ufsm.br](mailto:luisa.bock@acad.ufsm.br)]
]

&lt;!-- inicio academic icons --&gt;
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css"&gt;
&lt;!-- final academic icons --&gt;

 
&lt;!-- inicio font awesome --&gt;
&lt;script src="https://kit.fontawesome.com/1f72d6921a.js" crossorigin="anonymous"&gt;&lt;/script&gt;

&lt;!-- final font awesome --&gt;

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
